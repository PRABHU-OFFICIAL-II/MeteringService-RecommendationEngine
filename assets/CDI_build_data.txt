IICS: Cloud Data Integration Services OnDemand

Version: IICS-R32-Cloud-DIS-OD-201909

September 2019

Copyright (c) 1998–2019 Informatica LLC. All rights reserved.

Table of Contents

Module 1: Informatica Cloud Overview

Lab 1-1: Navigating the IICS Interface ................................................................................ 1

Module 2: Runtime Environments and Connections

Lab 2-1: Creating a Salesforce Connection ...................................................................... 13

Lab 2-2: Creating a Flat File Connection ........................................................................... 21

Lab 2-3: Creating a Oracle Connection ............................................................................. 27

Module 3: Synchronization Task

Lab 3-1: Creating a Synchronization Task ........................................................................ 41

Lab 3-2: Using Filter, Expression, and Lookup in a Synchronization Task ....................... 53

Lab 3-3: Creating a Synchronization Task with Multiple Object Source Types ................. 71

Lab 3-4: Using Pre and Post SQL Commands in a Synchronization Task........................ 83

Module 4: Cloud Mapping Designer – Basic Transformations

Lab 4-1: Creating a Mapping Using Basic Transformations .............................................. 95

Module 5: Advanced Transformations and Mapping Tasks

Lab 5-1: Using Normalizer Aggregator and Rank Transformations in a Mapping ........... 121

Lab 5-2: Creating a Mapping Task .................................................................................. 145

Lab 5-3: Creating a Mapping using Unconnected Lookup Transformation ..................... 151

Lab 5-4: Creating a Mapping using SQL Transformation ................................................ 175

Module 6: Mapping Parameters

Lab 6-1: Performing Complete Parameterization ............................................................ 191

Lab 6-2: Using Parameter File in a Mapping Task .......................................................... 215

Lab 6-3: Using In-Out Parameter for Incremental Data Loading ..................................... 227

Module 7: Expression Macro and Dynamic Linking

Lab 7-1: Using an Expression Macro in a Mapping ......................................................... 249

Lab 7-2: Using Dynamic Linking in a Mapping ................................................................ 271

Module 8: Replication Task

Lab 8-1: Replicating Data to a Flat File ........................................................................... 281

Module 9: Masking Task

Lab 9-1: Creating a Masking Task .................................................................................. 289
 

Module 11: Taskflows

Lab 11-1: Creating a Parallel Taskflow ........................................................................... 299

Lab 11-2: Passing In-out Parameters in a Taskflow ........................................................ 307

Lab 11-3: Invoking a Taskflow through a File Listener .................................................... 317

Module 12: Advanced Options

Lab 12-1: Configuring SQL Override Setting in a Lookup Transformation ...................... 333

Lab 12-2: Using Primary Key Chunking in a Synchronization Task ................................ 347

Module 13: Hierarchical Connectivity

Lab 13-1: Creating a Mapping using a REST V2 Connector ........................................... 357

Lab 13-2: Using Web Services Transformation in a Mapping ......................................... 373

Lab 13-3: Creating a Mapping using Hierarchy Parser Transformation .......................... 393

Lab 13-4: Creating a Mapping using Hierarchy Builder Transformation ......................... 407

Module 14: Intelligent Structure Model

Lab 14-1: Creating an Intelligent Structure Model ........................................................... 433

Lab 14-2: Using Structure Parser Transformation in a Mapping ..................................... 439

Module 15: IICS APIs

Lab 15-1: Running a Mapping Task using REST API ..................................................... 453

Module 16: Exception Handing

Lab 16-1: Creating a Mapping to Handle Non-fatal Errors .............................................. 465

Module 17: Performance Tuning

Lab 17-1: Using Partitions in a Mapping ......................................................................... 495

Lab 17-2: Using Pushdown Optimization in a Mapping Task .......................................... 505

Module 18: Automating and Monitoring Tasks

Lab 18-1: Creating a Schedule ........................................................................................ 533

Module 19: Administration

Lab 19-1: Configure Administrative Settings for your Informatica Cloud Org .................. 539

Lab 19-2: Creating a Sub-Organization and Importing/Exproting Assets ........................ 555



  



  
 

 

Module 1: Informatica Cloud Overview
Lab 1-1: Navigating the IICS interface
Overview:
Informatica Intelligent Cloud Services (IICS) is a platform that helps in Enterprise Data
Management through a suite of Intelligent Cloud services.

To effectively manage the data, IICS platform provides Data Integration, Administrator, and
Monitor services.

The Data Integration service synchronizes data between a heterogeneous source and target.

The Administrator service provides organization management capabilities such as managing
security, licenses, users, user groups, user roles, connections, schedules, add-on bundles, and
swagger files.

Monitor service enables a user to analyze the state of various deployment activities that you
perform within the organization.

Objective:
? Log in to the Informatica Cloud Org

? View Asset Dependencies

? Access the Informatica Cloud online help

? Search the online help

Scenario:
After hearing about IICS, Ruby wants to use Informatica Cloud Data Integration Service to
improve the performance of her store. So, to introduce Ruby with various features of IICS,
Joseph tells Ruby how to access the IICS interface and navigate between the services. He also
explains the procedure to access the online help option to Ruby.

In this lab, Ruby will access IICS interface and access the online help option. Ruby will also
explore various IICS services.

Duration:
10 minutes



Tasks:
Access IICS Interface:
1. Access your cloud trial account by clicking Launch in your option menu.



Module 1: Informatica Cloud Overview  1

  



  
 

 


2. Enter your login credentials and click Log In.


Note: The My Services window appears.

3. From the list of available services, click Data Integration.



2  Module 1: Informatica Cloud Overview

  



  
 

 


4. The Data Integration Home page appears.


5. From the Navigation pane, select Explore.


Note: The Explore page shows all the projects and assets built using IICS.

6. To check the asset dependencies, go to Default and select any asset.

7. Click  and select Show Dependencies.


Note: A Dependencies window appears.

Module 1: Informatica Cloud Overview  3

  



  
 

 


8. To view the objects that the asset depends on, click Uses.


9. To view the objects that the asset is dependent on, click Used By.

10. To close the dependencies window, click .


11. To check the list of all the bundles available in your organization, from the Navigation

pane, select Bundles.


Note: A bundle is a set of prebuilt integration template that allows you to execute custom
integration tasks.

12. To check the status of a job, from the Navigation pane, select My Jobs.



4  Module 1: Informatica Cloud Overview

  



  
 

 


13. To check the updated status of a running task, click .


14. To list import/export task started by current user, from the Navigation pane, select My

Import/Export Logs.



15. To maximize and minimize the Navigation pane, click .




Module 1: Informatica Cloud Overview  5

  



  
 

 


Switching between Services:
16. To switch between the available services, from the toolbar, select the drop-down next to

the current service name. In this case, the service name is Data Integration.


Note: The My Services window appears. You can select any available service at the
time of log in as well.

17. From the My Services window, select Administrator.



6  Module 1: Informatica Cloud Overview

  



  
 

 


Note: The Organization page appears.


18. In Organization page, you can enable or disable CLAIRE recommendation preference.


Note: By default, CLAIRE recommendation is enabled. For this course, do not make any
changes in the Administrator service unless stated in the labs.

19. To navigate to the Monitor service, select the drop-down next to Administrator.



Module 1: Informatica Cloud Overview  7

  



  
 

 


20. From the My Services window, select Monitor.


Note: The Running Jobs page appears.


Note: The Running Jobs page shows the live monitoring of the jobs that are running in
your organization.



Accessing Notifications, User details, and Online help:

21. To view notifications, select .

Note: The upper right corner of the IICS console displays Organization name,
Notifications icon, User icon, and Help icon.

8  Module 1: Informatica Cloud Overview

  



  
 

 


22. To view user related information, click .


Note: You can access user profile from this option.

23. To access online help, click .


24. From the drop-down, select Online Help.


Note: The Online Help opens in the new browser window or tab.

25. By default, Online Help shows the information related to the page it was originally
opened from (in this case Monitoring running jobs).



Module 1: Informatica Cloud Overview  9

  



  
 

 


Note: You can browse the Online Help as per the Contents, Index, Search, and navigate
to the Next and Previous help articles.

26. Search the Online Help for the term Taskflow and observe the results.



27. To close the online help, click .



10  Module 1: Informatica Cloud Overview

  



  
 

 


28. You can also view the status of all your tasks from the All Jobs tab. To do so, from the
Navigation pane, select All Jobs.





This concludes the lab.


Module 1: Informatica Cloud Overview  11

  



  
 

 




12  Module 1: Informatica Cloud Overview

  



  
 

 

Module 2: Runtime Environments and Connections
Lab 2-1: Creating a Salesforce Connection
Overview:
In IICS, a connection allows you to gain access to data which is available on Cloud and on
premise applications such as, platforms, databases, and flat files. After you create a connection
in IICS, it is available to all users in the organization.

A Salesforce connections allow you to securely read data from or write data to Salesforce
sources or targets.

Objective:
? Create a Salesforce connection

Scenario:
Now that Ruby has installed the secure agent, Joseph informs her that she needs to create a
connection on IICS to connect to a data source. One of the outlets of NH Retails manages data
on Salesforce. So, Ruby needs to create a Salesforce connection to read data from Salesforce.

In this lab, Ruby will create a Salesforce connection.

Duration:
20 minutes



Note: Before starting this lab, you must have a functional Salesforce Developer account. If you
do not have a Salesforce Developer account, create one by using the following URL:
https://developer.salesforce.com/signup

IICS accesses Salesforce.com through API. You must reset your Salesforce.com security token
(unless you have previously accessed the API from your current machine). You must execute
this process only once.





Module 2: Runtime Environments and Connections  13

  



  
 

 


Tasks:
Reset your Security Token in Salesforce.com:
1. Open a new tab in the web browser (recommended: Firefox/Google Chrome).
2. Log in to Salesforce.com using your Salesforce Developer credentials:

https://login.salesforce.com/?locale=in


Note: This lab is based on the Classic version of Salesforce. If you are using the
Lightening version, switch to the Classic version. The option to switch versions is
available under the User drop-down, in the upper right corner of the user interface.



14  Module 2: Runtime Environments and Connections

  



  
 

 


Note: For better visibility of tabs in Salesforce, you must select Sales from Salesforce
app menu.


Note: The following image represents the Classic version view of Salesforce.


3. From the Username drop-down, select My Settings.


4. From the My Settings page, drill down to Personal.

Module 2: Runtime Environments and Connections  15

  



  
 

 


5. From the Navigation pane, select Reset My Security Token.


6. To reset the security token, select Reset Security Token.




Copy Security Token:
7. After you reset the security token, you will receive an email in your email id registered

with Salesforce.
8. Open the email from support@salesforce.com from your mailbox.
9. Copy your security token and paste it in a text file.



16  Module 2: Runtime Environments and Connections

  



  
 

 


Create a Salesforce Connection:
10. Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

11. Enter your login credentials and click Log In.



Module 2: Runtime Environments and Connections  17

  



  
 

 


12. From the My Services window, select Administrator.


13. From the Navigation pane, select Connections.
14. To create a new connection, select New Connection.


Note: The New Connection page appears.

15. Enter the Connection Name as XX_FirstName_SFDCDeveloper.
Note: XX refers to your initials, and FirstName refers to your First Name. For example, if
your Name is Bob William, you must name the connection name as
BW_Bob_SFDCDeveloper.

16. From the Type drop-down, select Salesforce.


17. From the Runtime Environment drop-down, select your secure agent group.

Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.

18  Module 2: Runtime Environments and Connections

  



  
 

 


18. From the Salesforce Connection Type drop-down, select Standard.


19. In the Standard Connection Properties section, in the User Name field, enter your

Salesforce.com user name.
20. In the Password field, enter your Salesforce.com password.


21. In the Security Token field, paste your Salesforce.com security token copied in step 9.
22. Retain the value in Service URL.


Note: By default, the Service URL contains the latest Salesforce API version. It is
recommended not to change the Salesforce API version in Service UR as some of the
features are not available for older versions of Salesforce API.

23. To test the connection, click Test Connection.
Note: A message ‘The test for the connection was successful’ appears.




Module 2: Runtime Environments and Connections  19

  



  
 

 


24. To save the connection, click Save.





This concludes the lab.

20  Module 2: Runtime Environments and Connections

  



  
 

 

Module 2: Runtime Environments and Connections
Lab 2-2: Creating a Flat File Connection
Overview:
Flat file connections store the information to create, access, and store flat files.

Objective:
? Create a flat file connection

Scenario:
As mentioned earlier, different outlets of NH Suppliers manages data on different data sources.
The outlet in California uses flat files to organize the everyday sales data. So, in this lab, Ruby
will create a Flat File connection to access flat files on her local machine.

Duration:
10 minutes



Tasks:
Create a Flat File Directory on your local computer:
1. In the C drive of your local machine, create a new directory named IICSLabFiles.




Create a Flat File Connection in IICS:
2. Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.

Module 2: Runtime Environments and Connections  21

  



  
 

 



Note: Follow this step, if you have navigated away from the login page.

3. Enter your login credentials and click Log In.



22  Module 2: Runtime Environments and Connections

  



  
 

 


4. From the My Services window, select Administrator.


5. From the Navigation pane, select Connections.
6. To create a new connection, select New Connection.


7. Enter the Connection Name as XX_FirstName_LocalCSVFiles.

Note: XX refers to your initials, and FirstName refers to your First Name.
8. From the Type drop-down, select Flat File.


9. From the Runtime Environment drop-down, select your secure agent group.

Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.

Module 2: Runtime Environments and Connections  23

  



  
 

 


10. From the Directory field, click Browse.


11. Browse to C:\IICSLabFiles and click OK.


12. Retain the value in the Date field.

24  Module 2: Runtime Environments and Connections

  



  
 

 


13. From the Code Page drop-down, select MS Windows Latin1.


14. To test the connection, click Test Connection.

Note: A message ‘The test for the connection was successful’ appears.


15. To save the connection, click Save.



Module 2: Runtime Environments and Connections  25

  



  
 

 


16. A message ‘Connection Saved Successfully’ appears.





This concludes the lab.

26  Module 2: Runtime Environments and Connections

  



  
 

 

Module 2: Runtime Environments and Connections
Lab 2-3: Creating an Oracle connection
Overview:
In IICS, you can connect to Oracle Database Cloud Service through an Oracle connection.

In this lab, you will create an Oracle Connection in IICS.

Objective:
? Create an oracle connection

Scenario:
The Alaska outlet of NH suppliers uses Oracle database to manage the sales data. So, to
integrate data from oracle database, Ruby must create an Oracle Connection.

Duration:
15 minutes

Pre-requisite:
? To perform this lab, you need to install Oracle Database.



Tasks:
Create User in SQL Plus:
1. Select the windows Start menu.
2. In the search bar, enter SQL Plus, and press enter.

Note: The SQL Plus command prompt appears.
3. To log in to SQL Plus, enter user-name as sqlplus / as sysdba.


4. Press enter.

Module 2: Runtime Environments and Connections  27

  



  
 

 


5. From the Enter Password prompt, press enter to login without password.
Note: The Connected to: message appears.


6. To create a user, enter the following command in the SQL> field:

CREATE USER CDI IDENTIFIED BY CDI DEFAULT tablespace users TEMPORARY
tablespace temp quota unlimited ON users;
OR
Open the file named 04_LabGuide_CreatingOracleConnection_2-3 provided with this
lab. Copy the command mentioned under Step 6 and paste it in the SQL> field.

7. Press Enter.


Note: User created message appears. If you get this ORA-65096: invalid common
user or role name error while creating a user, then run the following command to reset
the session:
alter session set “_ORACLE_SCRIPT”=true;


Note: After the session is altered, run the command mentioned in step 6 to create the
user.

8. To grant access to created user, enter the following command in the SQL> field:
GRANT CONNECT, resource, DBA TO CDI;
OR
Open the file named 04_LabGuide_CreatingOracleConnection_2-3 provided with this
lab. Copy the command mentioned under Step 8 and paste it in the SQL> field.

9. Press enter.


Note: Grant succeeded message appears.

28  Module 2: Runtime Environments and Connections

  



  
 

 


10. Close the SQL Plus application.



Finding Oracle Service Name:
11. From the windows Start menu, again open SQL Plus.
12. To log in to SQL Plus, enter the user-name and password as CDI.

Note: The Oracle service name changes from user to user. Thus, to create a connection
for CDI user, you must log in with CDI user to find the service name.

13. Press Enter.
Note: The Connected to: message appears.


14. To know the service name, enter the following command in the SQL> field:

select value from v$parameter where name like '%service_name%';
OR
Open the file named 04_LabGuide_CreatingOracleConnection_2-3 provided with this
lab. Copy the command mentioned under Step 14 and paste it in the SQL> field.


Note: Here, the service name is orcl.cloud.techsmith.com.




Module 2: Runtime Environments and Connections  29

  



  
 

 


Create connection in Oracle:
15. To create a connection in Oracle, from the windows Start menu, select SQL Developer.
16. When the Oracle SQL Developer opens, it displays the following window.


Note: After the application opens, the Configure File Type Associations window appears.

17. From the list, select SQL Source ( .sql ).
18. Click OK.


Note: The Tip of the Day window appears.

30  Module 2: Runtime Environments and Connections

  



  
 

 


19. To close the Tip of the Day window, click .



20. To create a new connection, click the drop-down next to  and select New
Connection.


Note: The New/Select Database Connection window appears.

21. In the Connection Name field, enter CDI.
22. In the username and password field, enter CDI.




Module 2: Runtime Environments and Connections  31

  



  
 

 


23. Select Service Name option and enter the oracle service name identified in step 14.


Note: The service name can change from one user to another.

24. To test the connection, click Test.


25. To connect to the database, click Connect.



32  Module 2: Runtime Environments and Connections

  



  
 

 


Create Tables:
26. To create the tables in CDI, select the Worksheet tab.


27. Open the ACTCUSTOMERS.sql file provided with this lab and copy the commands from

the file.
Note: To easily copy the commands, open the file in notepad.

28. Paste the commands under Worksheet section.

29. To run the commands, click .



Module 2: Runtime Environments and Connections  33

  



  
 

 


30. Verify the output, under Script Output section.


Note: Follow the steps 26 to 30 to create ACTCUSTORDER_SUMMARY,
ACTORDERS, HOTEL_CUSTOMERS, CUST, ORDERS, and LKP_TABLE tables. You
can use the following files to create the required tables:

Files

ACTCUSTORDER_SUMMARY.sql

ACTORDERS.sql

HOTEL_CUSTOMERS.sql

CUST.sql

ORDERS.sql

LKP_TABLE.sql

Note: Before creating a new table, use  to clear the content from the Worksheet
and Script Output sections.

31. To close the SQL Developer, click .
Note: A Connection CDI has uncommitted changes window appears.

32. Retain Commit Changes.

34  Module 2: Runtime Environments and Connections

  



  
 

 


33. Click OK.


Note: The Save Files window appears.

34. Click Yes.


35. Provide a suitable name and click Save.


Note: SQL Developer window will close.




Module 2: Runtime Environments and Connections  35

  



  
 

 


Create Oracle Connection:
36. Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

37. Enter your login credentials and click Log In.



36  Module 2: Runtime Environments and Connections

  



  
 

 


38. From the My Services window, select Administrator.


39. From the Navigation pane, select Connections.


40. To create a new connection, select New Connection.



Module 2: Runtime Environments and Connections  37

  



  
 

 


41. In the Name field, enter XX_FirstName_Oracle.
Note: XX refers to your initials, and FirstName refers to your First Name.

42. From the Type drop-down, select Oracle.


43. From the Runtime Environment drop-down, select your secure agent group.


Note: The Runtime Environment name will be in CDI-XX-FIRSTNAME format.

44. In the Username and password field, enter CDI.


Note: The Password is case-sensitive.

45. In the Host field, enter localhost, and retain Port as 1521.
46. In the Service Name field, enter the oracle service name identified in step 14.


Note: Use the Service name you provided while creating the Oracle connection.

47. From the Code Page drop-down, select MS Windows Latin 1.



38  Module 2: Runtime Environments and Connections

  



  
 

 


48. To test the connection, click Test Connection.
Note: A message The test for this connection was successful appears.


49. To save the connection, click Save.




This concludes the lab.




Module 2: Runtime Environments and Connections  39

  



  
 

 




40  Module 2: Runtime Environments and Connections

  



  
 

 

Module 3: Synchronizaton Task
Lab 3-1: Creating a Synchronization Task
Overview:
The Synchronization task synchronizes data between a source and a target. The Data
Synchronization application supports Insert, Update, Upsert, and Delete operations.

Objective:
? Create and configure a synchronization task

? Run the task and validate the results in Salesforce

Scenario:
After Ruby created the connections in IICS, she asks Joseph about the process to integrate
data between various data sources. To this, Joseph says that she must create a
Synchronization task in IICS. In this lab, Ruby will create a synchronization task to load outlet
data from a CSV file to the Account object in Salesforce.

Duration:
15 minutes



Tasks:
Copy Source Files:
1. Copy Outlets.csv file provided with this lab and paste it in your flat file directory

(C:\IICSLabFiles).
2. Open the Outlets.csv file and note the number of records in the file. Also, note some of

the outlet names in the file.



Create a Synchronization task in IICS:
3. Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 3: Synchronizaton Task  41

  



  
 

 


4. Enter your login credentials and click Log In.


5. From the My Services window, select Data Integration.



42  Module 3: Synchronizaton Task

  



  
 

 


6. To create a new asset, from the Navigation pane, select New.


7. In the New Asset window, select Synchronization Task, and click Create.


Note: A six-step Synchronization Task wizard appears.



Specify Definition Information:
8. In the Task Name field, enter XX_FirstName_OutletsLoad.

Note: XX refers to your initials, and FirstName refers to your First Name.

Module 3: Synchronizaton Task  43

  



  
 

 


9. From the Task Operation drop-down, select Insert.


10. Click Next.




Specify Source Information:
11. From the Connection drop-down, select XX_FirstName_LocalCSVFiles.
12. From the Source Object drop-down, select Outlets.csv.


Note: The Data Preview section appears. It shows the first ten rows of the first five
columns in the object and also displays the total number of columns in the object.

44  Module 3: Synchronizaton Task

  



  
 

 


13. Click Next.




Specify Target Information:
14. From the Connection drop-down, select XX_FirstName_SFDCDeveloper.
15. From the Target Object drop-down, select Account.



Module 3: Synchronizaton Task  45

  



  
 

 


16. Click Next.


17. To skip the Data Filters step, click Next.






46  Module 3: Synchronizaton Task

  



  
 

 


Define Field Mappings:
18. Map the Source field with Target field, as shown in the table below:

Source Field Name Target Field Name

Outlet_ID Account_ID

Outlet_Name Account Name

Phone_Number Account Phone

Street Billing Street

City Billing City

State Billing State/Province

ZipCode Billing Zip/Postal Code

Country Billing Country

Employees Employees

Note: You can drag a Source field and drop it onto a Target field. Some of the fields
might be mapped automatically. For already mapped fields, do not map the fields again.



Module 3: Synchronizaton Task  47

  



  
 

 


19. To validate the mapping, click Validate Mapping.


Note: A message The field mapping is valid and has no errors appears.

20. If the validation fails, click Refresh Fields, and try to validate again.


Note: Refresh Fields option updates the data integration cache and shows the latest
field attributes.

48  Module 3: Synchronizaton Task

  



  
 

 


21. Click Next.


Note: In this lab, you will not define a Schedule.

22. To save and close the task, click Finish.


Note: When you click Finish, the Synchronization Task Asset appears in the Navigation
pane, and displays the task details on the page.

23. To run the Synchronization task, click Run.


Note: If you want to re-run a task, delete the records inserted by the task in the first run
to avoid getting duplication errors.

Module 3: Synchronizaton Task  49

  



  
 

 


Monitor the Synchronization Task:
24. To monitor the task, from the Navigation pane, click My Jobs.


25. When the task completes, the status changes to Success.


Note: You can refresh the page if the status does not change automatically.



Verify the Results:
26. Log in to your Salesforce Developer account using your credentials.
27. On the Salesforce homepage, from the available tabs, select Accounts.


28. From the drop-down, select All Accounts.

50  Module 3: Synchronizaton Task

  



  
 

 


29. Click Go!.


30. Verify that all the Accounts in the source file (Outlets.csv) are now in the Salesforce

Account object.





This concludes the lab.


Module 3: Synchronizaton Task  51

  



  
 

 




52  Module 3: Synchronizaton Task

  



  
 

 

Module 3: Synchronizaton Task
Lab 3-2: Using Filter, Expression, and Lookup in a
Synchronization Task
Overview:
Data filters help you to fetch the required data from an object. The synchronization task uses the
data filters to process the data as per the data filter assigned to that object.

A lookup returns values based on a lookup condition. You can create a lookup condition based
on the information in the source.

Objective:
? Create data filter

? Create field expressions

? Use a lookup to relate outlet name and account name

Scenario:
Now that Ruby has inserted the data in Salesforce Accounts object, she wants to load
Employee data on Salesforce as well.

However, the format of employee data is not compatible with Salesforce. So, John informs Ruby
that he can use various features of IICS synchronization task to transform the data and load it in
Salesforce.

In this lab, John will use the data filters to skip loading sales department's employee data. He
will also use the field expression to separate first and last name and to perform a lookup in
Salesforce using the account name.

Duration:
20 minutes



Tasks:
Copy Source Files:

1. Copy Employee.csv file provided with this lab and paste it in your flat file directory
(C:\IICSLabFiles).

2. Open the Employee.csv file and note the names of contacts with department as Sales.




Module 3: Synchronizaton Task  53

  



  
 

 


Create a Synchronization task in IICS:
1. Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

2. Enter your login credentials and click Log In.



54  Module 3: Synchronizaton Task

  



  
 

 


3. From the My Services window, select Data Integration.


3. To create a new asset, from the Navigation pane, select New.



Module 3: Synchronizaton Task  55

  



  
 

 


4. In the New Asset window, select Synchronization Task, and click Create.


Note: A six-step Synchronization Task wizard appears.



Specify Definition Information:
5. In the Task Name field, enter XX_FirstName_Employee.

Note: XX refers to your initials, and FirstName refers to your First Name.
6. From the Task Operation drop-down, select Insert.



56  Module 3: Synchronizaton Task

  



  
 

 


7. Click Next.




Specify Source Information:
8. From the Connection drop-down, select XX_FirstName_LocalCSVFiles.
9. From the Source Object drop-down, select Employee.csv.


Note: The Data Preview section appears. It shows the first ten rows of the first five
columns in the object and also displays the total number of columns in the object.

Module 3: Synchronizaton Task  57

  



  
 

 


10. Click Next.




Specify Target Information:
11. From the Connection drop-down, select XX_FirstName_SFDCDeveloper.
12. From the Target Object drop-down, select Contact.



58  Module 3: Synchronizaton Task

  



  
 

 


13. Click Next.




Define Data Filters to skip contacts with Department as Sales:
14. To define Data Filters, click New.


Note: The Advanced Data Filter window appears. You cannot apply a simple filter if the
source connection is Flat file connection.

15. From the Object drop-down, select Employee.csv.




Module 3: Synchronizaton Task  59

  



  
 

 


16. In the Filter Expression field, enter the following expression:
(Department != 'Sales')
OR
Open the file named 06_LabGuide_UsingDataFiltersLookupAndExpressions_3-2
provided with this lab. Copy the command mentioned under Step 19 and paste it in the
Filter Expression field.


17. Click OK.


Note: If you copy and paste the above filter expression, you must verify the expression
to avoid getting an apostrophe error.

60  Module 3: Synchronizaton Task

  



  
 

 


18. Click Next.




Define Field Mappings:
19. Map the Source field with Target field, as shown in the table below:

Source Field Name Target Field Name

Emp_ID Contact ID

Email Email

Department Department

Phone Business Phone

Note: For this lab, do not map Full_Name and Outlet_Name fields. Some of the fields
might be mapped automatically. For already mapped fields, do not map the fields again.






Module 3: Synchronizaton Task  61

  



  
 

 


Add a Lookup Condition:

20. To define a lookup condition, from the Target: Contact section, select  for Account
ID.


Note: The Field Lookup window appears.

21. From the Lookup Connection drop-down, select XX_FirstName_SFDCDeveloper.
22. From the Lookup Object drop-down, select Account.


23. In the Source Fields drop-down, select Outlet_Name.
24. In the Lookup Fields drop-down, select Account Name.


25. In the Lookup Return Value section, from the Output Field drop-down, select Account

ID.
26. Click OK.



62  Module 3: Synchronizaton Task

  



  
 

 


Define Field Expression to split Full Name into First Name and Last Name:

27. To define field expression, from the Target: Contact section, select  for First Name.


Note: The Field Expression window appears.

28. In the Expression field, enter the following expression:
IIF(INSTR(Full_Name,' ') > 0, SUBSTR(Full_Name,0,INSTR(Full_Name,'
')),Full_Name)
OR
Open the file named 06_LabGuide_UsingDataFiltersLookupAndExpressions_3-2
provided with this lab. Copy the command mentioned under Step 31 and paste it in the
Expression field.

29. To validate the expression, click Validate.



Module 3: Synchronizaton Task  63

  



  
 

 


30. A message appears that the expression is valid. Click OK.



31. From the Target: Contact section, select  for Last Name.


Note: The Field Expression window appears.

32. In the Expression field, enter the following expression:
IIF(INSTR(Full_Name,' ') > 0,substr(Full_Name,INSTR(Full_Name,' ')+1),'')
OR
Open the file named 06_LabGuide_UsingDataFiltersLookupAndExpressions_3-2
provided with this lab. Copy the command mentioned under Step 35 and paste it in the
Expression field.

64  Module 3: Synchronizaton Task

  



  
 

 


33. To validate the expression, click Validate.


34. A message appears that the expression is valid. Click OK.



Module 3: Synchronizaton Task  65

  



  
 

 


35. To validate the mapping, click Validate Mapping.


Note: A message The field mapping is valid and has no errors appears.

36. To save and close the task, click Finish.


Note: When you click Finish, the Synchronization Task Asset appears in the Navigation
pane, and displays the task details on the page.

66  Module 3: Synchronizaton Task

  



  
 

 


37. To run the Synchronization task, click Run.


Note: If you want to re-run a task, delete the records inserted by the task in the first run
to avoid getting duplication errors.



Monitor the Synchronization Task:
38. To monitor the task, from the Navigation pane, click My Jobs.


39. When the task completes, the status changes to Success.



Note: Verify that 33 rows are processed by the task. You can use the refresh option
if the status of the task does not change automatically.




Module 3: Synchronizaton Task  67

  



  
 

 


Verify the Results:
40. Log in to your Salesforce Developer account using your credentials.
41. To view the new account records that were inserted, click Contacts.
42. Click Go!.


43. To verify that the First Name and Last Name are parsed correctly, select a contact, and

click Edit.


44. Observe the entries in the First Name, Last Name, Account Name, and Department

fields are parsed correctly.



68  Module 3: Synchronizaton Task

  



  
 

 


45. Click Cancel.


46. Search for contact you noted in step 2 and verify that the contact is not loaded to

salesforce.
Note: In Salesforce, you can search for contacts alphabetically. In this case, the contact
Ralph Flores should not be present in Salesforce.

47. From the All Contacts window, select R.


48. Observe that Ralph Flores is not present in the list.





This concludes the lab.


Module 3: Synchronizaton Task  69

  



  
 

 




70  Module 3: Synchronizaton Task

  



  
 

 

Module 3: Synchronization Task
Lab 3-3: Creating a Synchronization Task with Multiple Object
Source Type
Overview:
You can use multiple tables in a source to join related objects as per the defined relationship.

Objective:
? Create a Synchronization task to load data from multiple Salesforce objects into a

Flat File

Scenario:
Ruby wants to synchronize data from multiple Salesforce object and load the data from these
objects to a flat file to gain better business insights. In this lab, John will extract product and
pricing information from multiple objects within Salesforce and to load the data to a flat file.

Duration:
15 minutes



Tasks:
Copy Source Files:

1. Copy Items.csv file provided with this lab and place the file in your flat file directory
(C:\IICSLabFiles).



Create a Data Synchronization task:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 3: Synchronization Task  71

  



  
 

 


2. Enter your login credentials and click Log In.


3. From the My Services window, select Data Integration.



72  Module 3: Synchronization Task

  



  
 

 


4. To create a new asset, from the Navigation pane, select New.


5. In the New Asset window, select Synchronization Task, and click Create.


6. In the Task Name field, enter XX_FirstName_MultiObject.



Module 3: Synchronization Task  73

  



  
 

 


7. From the Task Operation drop-down, select Insert.


8. Click Next.


9. From the Connection drop-down, select XX_FirstName_SFDCDeveloper.

74  Module 3: Synchronization Task

  



  
 

 


10. Select Source Type as Multiple.


11. From the Source Objects section, click Add.


Note: The Select Source Object window appears.

12. From the list, select PricebookEntry, and click Select.


Note: You can also use the search option to locate the PricebookEntry object.

Module 3: Synchronization Task  75

  



  
 

 


13. From the Source Objects section, select PricebookEntry, and click Add.


Note: The Add Related Object window appears.

14. From the Relationship Name and Related Object drop-down, select Pricebook2.
15. Click OK.


16. From the Source Objects window, select PricebookEntry, and click Add.


Note: The Add Related Object window appears.

17. From the Relationship Name and Related Object drop-down, select Product2.

76  Module 3: Synchronization Task

  



  
 

 


18. Click OK.


19. Click Next.


20. From the Connection drop-down, select XX_FirstName_LocalCSVFiles.



Module 3: Synchronization Task  77

  



  
 

 


21. From the Target Object drop-down, select Items.csv, and click Next.


Note: By default, if you select Flat File connection in the target, you will get the option to
create a new flat file during design time. However, when the source is multi-object, this
option is not available.

22. To skip the Data Filters step, click Next.




78  Module 3: Synchronization Task

  



  
 

 


23. Map the fields, as shown in the table below:
Note: You can drag a Source field and drop it onto a Target field. Some of the fields
might be mapped automatically. For already mapped fields, do not map the fields again.

 Source Object Source Field Name Target Field Name

Price Book Entry Product Name ProductName

Price Book Entry Product ID ProductId

Price Book Entry List Price UnitPrice

Price Book Entry Active isActive

Price Book Entry Product Code ProductCode

Pricebook Description ProductDesc

Product Product Family ProductFamily
Note: The field name displayed in the field mapping are the technical field names of the
respective source fields. Thus, after mapping, Product ID is displayed as Product2Id,
Active is displayed as IsActive, Product Name is displayed as Name, and Product Family
is displayed as Family.

24. To validate the mapping, click Validate Mapping.



Module 3: Synchronization Task  79

  



  
 

 


25. To save and close the Synchronization Task wizard, click Finish.


26. To run the Synchronization task, click Run.




Monitor the Synchronization Task:
27. To monitor the task, from the Navigation pane, click My Jobs.


28. When the task completes, the status changes to Success.



80  Module 3: Synchronization Task

  



  
 

 


Note: You can refresh the page if the status does not change automatically.



Examine Results:
29. Open the Items.csv file and review the added rows. The output should look like the

below excel file:


Note: The output changes according to the data in your salesforce developer account.



This concludes the lab.


Module 3: Synchronization Task  81

  



  
 

 




82  Module 3: Synchronization Task

  



  
 

 

Module 3: Synchronization Task
Lab 3-4: Using Pre and Post SQL Commands in a
Synchronization Task
Overview:
Pre and Post commands enables IICS to perform additional tasks on the data before and after
you load it to the target.

In this lab, you will create a synchronization task and configure Pre and Post commands.

Objective:
? Use pre and post SQL commands in a Synchronization task

Duration:
20 minutes



Tasks:
Copy location of sql.exe:
1. Select the windows Start menu.
2. In the search bar, enter Control Panel, and press enter.
3. From the list of items, select System.



Module 3: Synchronization Task  83

  



  
 

 


4. From the System window, select Advanced system settings.


Note: The System Properties window appears. If you face any permission issues, kindly
contact your system administrator.

5. From the Advanced tab, select Environment Variables.


6. From the System variables section, locate the Path variable.

84  Module 3: Synchronization Task

  



  
 

 


7. Click Edit.


Note: The Edit environment variable window appears.

8. From the list, copy the first location and paste it in a notepad.


Note: In this case, the location is E:\app\NICESSLP051\product\12.1.0\dbhome_1\bin.
This location will change from user to user.

Module 3: Synchronization Task  85

  



  
 

 


9. On your system, navigate to the location you copied and pasted in the notepad.
10. Verify that sqlplus.exe is present in this location.


Copy Source Files:
11. Copy del.sql and create.sql files provided with this lab and paste it in your flat file

directory (C:\IICSLabFiles).



Create Synchronization Task:
12. Access your cloud trial account by clicking Launch in your option Menu. If the option menu

is labeled anything other than Launch, click the down arrow to the right and click Launch.


Note: Follow this step, if you have navigated away from the login page.

86  Module 3: Synchronization Task

  



  
 

 


13. Enter your login credentials and click Log In.


14. From the My Services window, select Data Integration.



Module 3: Synchronization Task  87

  



  
 

 


15. From the Navigation pane, select New.


16. In the New Asset window, select Synchronization Task, and click Create.


Note: A six-step Synchronization Task wizard appears.

17. In the Task Name field, enter XX_FirstName_PrePost.


18. From the Task Operation drop-down, select Upsert (Update or Insert).

88  Module 3: Synchronization Task

  



  
 

 


19. Click Next.


20. From the Connection drop-down, select XX_FirstName_Oracle.
21. Retain Source Type as Single.


22. From the Source Object drop-down, select CUST.
23. Click Next.


24. From the Connection drop-down, select XX_FirstName_Oracle.
25. From the Target Object drop-down, select ORDERS.

Module 3: Synchronization Task  89

  



  
 

 


26. Click Next.


27. To skip the Data Filters step, click Next.


28. Map the fields, as shown in the table below:

You can drag a Source field and drop it onto a Target field.

Source Field Name Target Field Name

CUST_ID CUST_ID

NAME CUST_NAME

ADDRESS ADDRESS

PHONE PHONE

Note: Some of the fields might be mapped automatically. For already mapped fields, do
not map the fields again.

90  Module 3: Synchronization Task

  



  
 

 


29. To validate the mapping, click Validate Mapping.


Note: A message The field mapping is valid and has no errors appears.

30. Click Next.


31. Scroll down to Advanced Options.
32. In the Preprocessing Commands field, enter the following command:

<path copied and pasted in notepad in step 8>\sqlplus.exe CDI/CDI@<Oracle Service
Name> @C:\IICSLabFiles\create.sql





Module 3: Synchronization Task  91

  



  
 

 


Note: To find the oracle service name, refer the lab guide
04_LabGuide_CDI_CreatingOracleConnection _2-3 and follow steps 11 to 14.


33. In the Post-processing Commands field, enter the following command:

<path copied and pasted in notepad in step 8>\sqlplus.exe CDI/CDI@<Oracle Service
Name> @C:\IICSLabFiles\del.sql

Note: To find the oracle service name, refer the lab guide
04_LabGuide_CDI_CreatingOracleConnection _2-3, and follow steps 11 to 14.




92  Module 3: Synchronization Task

  



  
 

 


34. To save and close the synchronization task wizard, click Finish.


35. To run the Synchronization task, click Run.


Monitor the Synchronization Task:
36. To monitor the task, from the Navigation pane, click My Jobs.


37. When the task completes, the status changes to Success.





This concludes the lab.


Module 3: Synchronization Task  93

  



  
 

 




94  Module 3: Synchronization Task

  



  
 

 

Module 4: Cloud Mapping Designer – Basic
Transformations
Lab 4-1: Creating a Mapping Using Basic Transformations
Overview:
The Mapping designer feature of IICS allows you to create a mapping and use it in a Mapping
Task.

Objective:
? Use Joiner, Lookup, Filter, and Expression transformations in a mapping

Scenario:
NH Suppliers recently started offering express delivery to their customers having order value
more than 1000 dollars. However, Ruby, the owner of NH suppliers want to automate the
delivery selection process. John, who is the Lead Developer in NH Suppliers suggests to use
the IICS Mapping designer to fulfil this requirement.

In this lab, John will combine the Products and Order details to calculate the total order amount.
This calculated amount will be utilized to process the orders as normal shipping or expedited
shipping.

Duration:
45 minutes



Tasks:
Copy Source Files:

 Copy the following files provided with this lab and place the files in your flat file
directory (C:\IICSLabFiles):

Files

ExpeditedShipping.csv

NormalShipping.csv

Orders.csv

Products.csv




Module 4: Cloud Mapping Designer – Basic Transformations  95

  



  
 

 


Create Mapping:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

 Enter your login credentials and click Log In.



96  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 From the My Services window, select Data Integration.


 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab, and select Mapping.

Module 4: Cloud Mapping Designer – Basic Transformations  97

  



  
 

 


 Click Create.


Note: The following Mapping page appears.


 In the Name field, enter XX_FirstName_ShippingFiles.



98  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 To configure the source, from the mapping canvas, click the Source transformation.


 In the General section of Source properties, enter Name as SO_Orders.


 From the properties pane, click Source.
 From Connection drop-down, select XX_FirstName_LocalCSVFiles.
 Retain Source Type as Single Object.


 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.

 From the list, select Orders.csv.

Module 4: Cloud Mapping Designer – Basic Transformations  99

  



  
 

 


 Click OK.




Add Source Transformation:
 From the list of available transformations, drag and drop a Source transformation on

to the mapping canvas.

Note: You can also use the Add Transformation icon  to add transformations to a
mapping directly on the mapping canvas. The Add Transformation icon appears when
you hover over the link between transformations. For the purpose of this lab, we will
use the drag and drop feature to select the transformations.


 Select the Source from the mapping canvas.

100  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 In the General section of Source properties, enter Name as SO_Products.


 From the properties pane, click Source.
 From Connection drop-down, select XX_FirstName_LocalCSVFiles.
 Retain Source Type as Single Object.


 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.

 From the list, select Products.csv.

Module 4: Cloud Mapping Designer – Basic Transformations  101

  



  
 

 


 Click OK.






Add Joiner Transformation:
 Click the link joining the SO_Products and Target.

 To remove the link, click .


 From the list of available transformations, drag and drop a Joiner transformation onto

the mapping canvas.



102  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 To expand the join options, click .
 Link SO_Orders to Master and SO_Products to Detail.


 To configure the joiner, from the mapping canvas, click the Joiner transformation.
 In the General section of Joiner properties, retain the Name as Joiner.


 From the properties pane, click Join Condition.
 Retain Join Type as Normal and Join Condition as Simple.



 To add a new join condition, click .


 Enter join condition as shown in the table below:

Master  Operator Detail

ProductID =  Product_ID

Module 4: Cloud Mapping Designer – Basic Transformations  103

  



  
 

 





Add Lookup Transformation:
 From the list of available transformations, drag and drop a Lookup transformation on

to the mapping canvas.


 Link Joiner to the Lookup transformation.


 Select the Lookup transformation from the mapping canvas.
 In General section of Lookup properties, retain the Name as Lookup.


 From the properties pane, click Lookup Object.
 From Connection drop-down, select XX_FirstName_SFDCDeveloper.

104  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 Retain Source Type as Single Object.


 To select the Lookup object, from the Lookup Object field, click Select.


 From the list, select Account.
 Click OK.


 From the properties pane, click Lookup Condition.
 Retain Lookup Condition as Simple.



Module 4: Cloud Mapping Designer – Basic Transformations  105

  



  
 

 


 To add a new lookup condition, click .


 Enter lookup condition as shown in the table below:

Lookup Field  Operator Incoming Field

Id = (Equals) OutletID




Add Expression Transformation:
 From the list of available transformations, drag and drop an Expression

transformation on to the mapping canvas.


 Link Lookup to the Expression transformation.



Note: To arrange all the transformations on the canvas, click .


106  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 In the General section of Expression properties, enter the Name as EXP_OrderTotal.


Note: You must create two variable expressions to convert the incoming fields
(UnitPrice and Quantity) to integers before you can use them in the output field that
calculates the Order Total.

 From the properties pane, click Expression.

 To add a new expression, click .


Note: The New Field window appears.

 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Variable Field PPU integer 10 0

 Click OK.



Module 4: Cloud Mapping Designer – Basic Transformations  107

  



  
 

 


 To add expression for PPU, select Configure.


 In expression window, enter following expression:

TO_INTEGER(UnitPrice)
OR
Open the file named
9_LabGuide_CreatingMappingUsingBasicTransformations_4 provided with this
lab. Copy the command mentioned under Step 59 and paste it in the Expression
field.

 Click OK.




 To add a new expression, click .
 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Variable Field QTY integer 10 0

108  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 Click OK.



 To add expression for QTY, select Configure.


 In expression window, enter following expression:

TO_INTEGER(Quantity)
OR
Open the file named
9_LabGuide_CreatingMappingUsingBasicTransformations_4. Copy the
command mentioned under Step 65 and paste it in the Expression field.

 Click OK.

Module 4: Cloud Mapping Designer – Basic Transformations  109

  



  
 

 




 To add a new expression, click .
 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Output Field Total integer 10 0

 Click OK.



110  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 To add expression for Total, select Configure.


 In expression window, enter following expression:

PPU*QTY
OR
Open the file named
9_LabGuide_CreatingMappingUsingBasicTransformations_4. Copy the
command mentioned under Step 71 and paste it in the Expression field.

 Click OK.


 After configuring all the expressions, the expressions are displayed as follows:




Module 4: Cloud Mapping Designer – Basic Transformations  111

  



  
 

 


Add Filter Transformation:
 From the list of available transformations, drag and drop a Filter transformation on to

the mapping canvas.


 Link EXP_OrderTotal to the Filter transformation.


 In the General section of Filter properties, enter the Name as

FIL_ExpeditedShipping.


 From the properties pane, click Filter.
 Retain the Filter Condition as Simple.



112  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 To add a new filter, click .


 Enter filter condition as shown in the table below:

Field Name Operator Value

Total >= (Greater than or equals) 1000




Configure Target Transformation:
 Link FIL_ExpeditedShipping to the Target transformation.


 Select the Target transformation from the mapping canvas.
 In the General section of Target properties, enter the Name as

TG_ExpeditedShipping.


 From the properties pane, click Target.

Module 4: Cloud Mapping Designer – Basic Transformations  113

  



  
 

 


 From Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.

 From the list, select ExpeditedShipping.csv and click OK.


 From the properties pane, click Field Mapping.
 To maximize the view, in the properties pane, click Maximize.




114  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 To restore the view, click .
 Match the fields as shown in table below:

Note: Some of the fields might be mapped automatically. For the already mapped
fields, do not map the fields again.

 Incoming Field Target Field


OrderId OrderID
 ProductDescription ProductDescription

Total OrderTotal




Add Filter Transformation:
 From the list of available transformations, drag and drop a Filter transformation on to

the mapping canvas.


 Link EXP_OrderTotal to the Filter transformation.


 Select the Filter transformation from the mapping canvas.

Module 4: Cloud Mapping Designer – Basic Transformations  115

  



  
 

 


 In the General section of Filter properties, enter Name as FIL_NormalShipping.


 From the properties pane, click Filter.
 Retain Filter Condition as Simple.

 To add a new filter, click .


 Enter filter condition as shown in the table below:

Field Name Operator Value

Total < (Less than) 1000




Configure Target Transformation:
 From the list of available transformations, drag and drop a Target transformation on

to the mapping canvas.



116  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 Link FIL_NormalShipping to Target transformation.


 In the General section of Target properties, enter Name as TG_NormalShipping.


 From the properties pane, click Target.
 From Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.

 From the list, select NormalShipping.csv.

Module 4: Cloud Mapping Designer – Basic Transformations  117

  



  
 

 


 Click OK.


 From the properties pane, click Field Mapping.
 To maximize the view, in the properties pane, click Maximize.



 To restore the view, click .

 Match the fields as shown in table below:

Incoming Field Target Field

OrderId OrderID

ProductDescription ProductDescription

Total OrderTotal

Note: Some of the fields might be mapped automatically. For already mapped fields,
do not map the fields again.



118  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 


 To save the mapping, click Save.


 To run the mapping, click Run.


Note: The Run mapping window appears.

 From Runtime Environment drop-down, select your secure agent group.
 Click Run.


Note: At this point, the IICS generates a temporary Mapping Task for the mapping
and runs it.

Module 4: Cloud Mapping Designer – Basic Transformations  119

  



  
 

 


Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


Note: You can refresh the job status if it does not change automatically.

 On your local machine, go to C:\IICSLabFiles.
 Verify that the correct entries are written to the following files.

 ExpiditedShipping.csv:



NormalShipping.csv:





This concludes the lab.

120  Module 4: Cloud Mapping Designer – Basic Transformations

  



  
 

 

Module 5: Advanced Transformations and Mapping Tasks
Lab 5-1: Using Normalizer Aggregator and Rank Transformations
in a Mapping
Overview:
Normalizer transformation represents the data in a smarter and organized manner. Aggregator
transformation performs the aggregate calculations on groups of data. These calculations can
be average, sum, count, and so on. Rank transformation selects the top or bottom range of
data. You can use it to find out the largest or smallest numeric values in a group.

Objective:
? Configure a mapping in Informatica Cloud

? Use Normalizer, Rank, and Aggregator transformations in the mapping

Scenario:
Ruby wanted to know the top performers in the store for last four quarter. So, she asks John to
use IICS mapping designer to provide her the list of the top performers.

In this lab, John will use the Informatica Cloud Mapping Designer to calculate the sales
percentage for each employee for NH suppliers in the last four quarter. He will use the Rank
transformation to list the top twenty performers based on the overall sales percentage.

Duration:
30 minutes



Tasks:
Copy Source Files:

 Copy the following files provided with this lab and place the file in your flat file directory
(C:\IICSLabFiles):

Files

Sales.csv

Normalizer.csv

Aggregated.csv




Module 5: Advanced Transformations and Mapping Tasks  121

  



  
 

 


Create Mapping:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

 Enter your login credentials and click Log In.



122  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 From the My Services window, select Data Integration.


 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab, and select Mapping.

Module 5: Advanced Transformations and Mapping Tasks  123

  



  
 

 


 Click Create.


Note: The Mapping page appears.

 In the Name field, enter XX_FirstName_NormalizerAggregator.


 To configure the source, from the mapping canvas, click the Source transformation.



124  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 In the General section of Source properties, enter the Name as SO_Sales.


 From the properties pane, click Source.
 From Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select Sales.csv.
 Click OK.




Module 5: Advanced Transformations and Mapping Tasks  125

  



  
 

 


Add Normalizer Transformation:
 From the list of available transformations, drag and drop the Normalizer transformation
on the link between SO_Sales and Target.


 Select the Normalizer transformation from the mapping canvas.
 In General section of Normalizer properties, retain the Name as Normalizer.


 From the properties pane, click Normalized Fields.
Note: You must define the multiple-occurring fields and specify additional fields that you
want to use in the mapping in the Normalized Fields tab.
 From Create Field drop-down, select Select From Incoming Fields.


Note: The Incoming Fields window appears.
 Select Emp_ID and Emp_Name.

126  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 Click OK.


 From Create Field drop-down, select New Field.


Note: The New Field window appears.
 Enter the details as shown in table below:

Name Type Precision Scale

Quarter number 200 0

Module 5: Advanced Transformations and Mapping Tasks  127

  



  
 

 


 Click OK.


 For Quarter, set occurs as 4.


Note: Occurs define the number of instances the field occurs in incoming data.
 From the properties pane, click Field Mapping.
 Map the fields, as shown in the table below:
Note: For already mapped fields, do not map the fields again.

Incoming Fields Normalized Fields

Emp_ID Emp_ID

Emp_Name Emp_Name

Qtr1 Quarter_1

Qtr2 Quarter_2

Qtr3 Quarter_3

Qtr4 Quarter_4

128  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 





Add Expression Transformation:
 From the list of available transformations, drag, and drop Expression transformation on
the link between Normalizer and Target.


 Select the Expression transformation from the mapping canvas.
 In the General section of Normalizer properties, enter the Name as
NormalizerExpression.


 From the properties pane, click Expression.

 To add a new expression, click .


Note: The New Field window appears.



Module 5: Advanced Transformations and Mapping Tasks  129

  



  
 

 


 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Output Field QuarterSales string 255 0

 Click OK.


 To configure expression, click Configure.


Note: The Field Expression window appears.
 In the Expression field, copy and paste the following expression:
DECODE(GCID_Quarter, GCID_Quarter=1, 'Qtr1', GCID_Quarter=2, 'Qtr2',
GCID_Quarter=3, 'Qtr3', GCID_Quarter=4, 'Qtr4')
OR
Open the file named
10_LabGuide_UsingNormalizerAggregatorRankTransformations_5-1 provided with
this lab. Copy the command mentioned under Step 38 and paste it in the Expression
field.

130  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 Click Validate.


 Click OK.


 To configure the target, from the mapping canvas, click the Target transformation.
 In the General section of Target properties, enter Name as Normalizer_Output.



Module 5: Advanced Transformations and Mapping Tasks  131

  



  
 

 


 From the properties pane, click Incoming Fields.
 In the Field Rules section, from the Field Selection Criteria drop-down, select Named
Fields.
 Click Configure.


Note: The Configure Field Rule window appears.
 Select Emp_ID, Emp_Name, Quarter, and QuarterSales.
 Click OK.


 From the properties pane, click Target.

132  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 From the list, select Normalizer.csv.
 Click OK.


 From the properties pane, click Field Mapping.

Module 5: Advanced Transformations and Mapping Tasks  133

  



  
 

 


 To automatically match the fields, from the Automatch drop-down, select Smart Match.


 After Automatch, the field mapping looks as shown below:




Add Aggregator Transformation:
 From the list of available transformations, drag, and drop Aggregator transformation on
the mapping canvas.


 Link the Normalizer transformation with Aggregator transformation.


 Select the Aggregator transformation from the mapping canvas.

134  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 In General section of Aggregator properties, retain the Name as Aggregator.


 From the properties pane, click Group By.

 To add a group by condition, click .


 From Field Name drop-down, select Emp_ID.


 From the properties pane, click Aggregate.

 To add a new aggregate condition, click .


Note: The New Field window appears.
 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Output Field Percentage double 15 0

Module 5: Advanced Transformations and Mapping Tasks  135

  



  
 

 


 Click OK.


 To configure the aggregator, click Configure.


Note: The Field Expression window appears.
 In the Expression field, enter the following expression:
(SUM(Quarter) /400)*100
OR
Open the file named
10_LabGuide_UsingNormalizerAggregatorRankTransformations_5-1 provided with
this lab. Copy the command mentioned under Step 69 and paste it in the Expression
field.

136  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 Click Validate.


 Click OK.




Module 5: Advanced Transformations and Mapping Tasks  137

  



  
 

 


Add Rank Transformation:
 From the list of available transformations, drag and drop Rank transformation on the
mapping canvas.


 Link the Aggregator with Rank transformation.


 Select the Rank transformation from the mapping canvas.
 In General section of Rank properties, retain the Name as Rank.


 From the properties pane, click Rank.
 From the Rank By drop-down, select Percentage.
 Retain Rank Order as Top.
 In the Number of Rows section, in the Number of Rows field, enter 20.




138  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


Add Target Transformation:
 From the list of available transformations, drag and drop Target transformation on the
mapping canvas.


 Link the Rank with Target transformation.


 Select the Target transformation from the mapping canvas.
 In General section of Target properties, enter Name as NormalizedAggregated.


 From the properties pane, click Incoming Fields.
 In the Field Rules section, from the Field Selection Criteria drop-down, select Named
Fields.
 Click Configure.


Note: The Configure Field Rules window appears.

Module 5: Advanced Transformations and Mapping Tasks  139

  



  
 

 


 Select Emp_ID, Emp_Name, and Percentage.
 Click OK.


 From the properties pane, click Target.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 From the list, select Aggregated.csv.

140  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 Click OK.


 From the properties pane, click Field Mapping.
 To automatically match the fields, from Automatch drop-down, select Smart Match.


 After Automatch, the field mapping looks as shown below:



Module 5: Advanced Transformations and Mapping Tasks  141

  



  
 

 


 To save the mapping, click Save.


 To run the mapping, click Run.


Note: The Run mapping window appears.
 From Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.
 Click Run.




142  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.



 When the task completes, the status changes to Success.


 On your local machine, go to C:\IICSLabFiles.
 Verify the contents of Normalizer.csv and Aggregated.csv files.
Aggregated.csv:



Module 5: Advanced Transformations and Mapping Tasks  143

  



  
 

 



Normalizer.csv:





This concludes the lab.

144  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 

Module 5: Advanced Transformations and Mapping Tasks
Lab 5-2: Creating a Mapping Task
Overview:
A Mapping task processes the data as per the flow that you define in a mapping.

Objective:
? Create a Mapping Task

Scenario:
As the mapping that John created to list top performers will be used by higher management and
HR team of NH Suppliers. So, John creates a mapping task in IICS to run the previously created
NormalizerAggregator mapping.

Duration:
5 minutes



Tasks:
Create a Mapping Task:

 Access your cloud trial account by clicking Launch in your option Menu. If the option
menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 5: Advanced Transformations and Mapping Tasks  145

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



146  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 To create a new asset, from the Navigation pane, select New.


 In the New Asset window, select Mapping Task, and click Create.


 In the Task Name field, enter XX_NormalizerAggregator_Task.
 From the Runtime Environment drop-down, select your secure agent group.

Module 5: Advanced Transformations and Mapping Tasks  147

  



  
 

 



Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.

 To select the mapping, click Select.


Note: The Select a Mapping window appears.

 From the list, select XX_FirstName_NormalizerAggregator.

148  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 Click Select.


 Click Finish.





This concludes the lab.


Module 5: Advanced Transformations and Mapping Tasks  149

  



  
 

 




150  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 

Module 5: Advanced Transformations and Mapping Tasks
Lab 5-3: Creating a mapping using Unconnected Lookup
Transformation
Overview:
An unconnected Lookup transformation is not connected to other transformations in a mapping.
It returns one column to the calling transformation.

Objective:
? Use Unconnected Lookup transformations in the mapping

Scenario:
John explains to Ruby about various transformations used in IICS. To familiarize Ruby with the
Lookup transformation, he creates a mapping in IICS using unconnected lookup. In this lab,
John will use the Informatica Cloud Mapping Designer’s Unconnected Lookup transformation.

Duration:
35 minutes



Tasks:
Copy Source Files:

 Copy the following files provided with this lab and place the file in your flat file directory
(C:\IICSLabFiles):

Files

ETF-Ticker.txt

InvestmentOption.txt

StockTicker.txt

TotalAmount.txt




Module 5: Advanced Transformations and Mapping Tasks  151

  



  
 

 


Create Mapping:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

 Enter your login credentials and click Log In.



152  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 From the My Services window, select Data Integration.


 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab, and select Mapping.

Module 5: Advanced Transformations and Mapping Tasks  153

  



  
 

 


 Click Create.


Note: The following Mapping page appears.


 In the Name field, enter XX_FirstName_UnconnectedLookup.


 To configure the source, from the mapping canvas, click the Source transformation.

154  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 In the General section of Source properties, enter Name as Src_Lookup.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select InvestmentOption.txt.
 Click OK.



Module 5: Advanced Transformations and Mapping Tasks  155

  



  
 

 


 From the properties pane, click Fields.
 From the Options drop-down, select Edit Metadata.


Note: You can use Edit Metadata option to edit the data type of fields.
 Select NoOfUnits field.


 From the Native Type drop-down, select number.
 Set Native Precision to 10 and Native Scale to 5.


 From the Options drop-down, uncheck Edit Metadata.




156  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


Add Lookup Transformation:
 From the list of available transformations, drag and drop Lookup transformation on the
mapping canvas.


 Select the Lookup transformation on the mapping canvas.
 In the General section of Lookup properties, enter Name as Lkp_StockTicker.
 Select the Unconnected Lookup option.


Note: A Continue pop-up window appears.

Module 5: Advanced Transformations and Mapping Tasks  157

  



  
 

 


 In the Continue window, select Yes.


 From the properties pane, click Incoming Fields.

 To add a new incoming field, click .


 In Field Name, enter I_Ticker.


 From the properties pane, click Lookup Object.

158  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the lookup object, from the Lookup Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select StockTicker.txt.
 Click OK.


 From the properties pane, click Lookup Condition.

 To add a new lookup condition, click .




Module 5: Advanced Transformations and Mapping Tasks  159

  



  
 

 


 Enter the lookup condition, as shown in the table below:

Lookup Field Operator Incoming Field

Ticker =  I_Ticker


 From the properties pane, click Return Fields.
 From the Options drop-down, select Edit Metadata.


 Select PrevClose field.


 From the Native Type drop-down, select number.
 Set Native Precision to 10 and Native Scale to 5.


 Select Return.


Note: The lookup will check if the PrevClose value of the Ticker, which is equal to
I_Ticker.



160  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


Add second Lookup Transformation:
 From the list of available transformations, drag and drop Lookup transformation on the
mapping canvas.


 Select the Lookup transformation on the mapping canvas.
 In the General section of Lookup properties, enter the Name as Lkp_ETFTicker.
 Select the Unconnected Lookup option.


Note: A Continue pop-up window appears.
 In the Continue window, select Yes.



Module 5: Advanced Transformations and Mapping Tasks  161

  



  
 

 


 From the properties pane, click Incoming Fields.

 To add a new incoming field, click .


 In Field Name, enter I_Ticker.


 From the properties pane, click Lookup Object.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the lookup object, from the Lookup Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select ETF-Ticker.txt.

162  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 Click OK.


 From the properties pane, click Lookup Condition.

 To add a new lookup condition, click .


 Enter the lookup condition, as shown in the table below:

Lookup Field Operator Incoming Field

Ticker =  I_Ticker


 From the properties pane, click Return Fields.
 From the Options drop-down, select Edit Metadata.



Module 5: Advanced Transformations and Mapping Tasks  163

  



  
 

 


 Select PrevClose field.


 From the Native Type drop-down, select number.
 Set Native Precision to 10 and Native Scale to 5.


 Select Return.




Add Expression Transformation:
 From the list of available transformations, drag and drop the Expression transformation
between Src_Lookup and Target, and link them.


 Select Expression transformation from the mapping canvas.

164  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 In the General section of Expression properties, enter Name as Exp_CalcTotal.


 From the properties pane, click Expression.

 To add a new expression, click .


Note: The New Field window appears.
 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Variable Field v_PrevClose decimal 10 5

 Click OK.



Module 5: Advanced Transformations and Mapping Tasks  165

  



  
 

 


 To configure expression, click Configure.


Note: The Field Expression window appears.
 In the Expression field, copy and paste the following expression:
Decode(SecurityType,'Stock',
:LKP.Lkp_StockTicker(Ticker),'ETF',
:LKP.Lkp_ETFTicker(Ticker),0)
OR
Open the file named 12_LabGuide_UsingUnconnectedLookupTransformations_5-3
provided with this lab. Copy the command mentioned under Step 77 and paste it in the
Expression field.
 Click Validate.


Note: The expression is Valid message appears.

166  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 Click OK.



 To add a new expression, click .


Note: The New Field window appears.
 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Output Field TotalValue decimal 10 5




Module 5: Advanced Transformations and Mapping Tasks  167

  



  
 

 


 Click OK.


 To configure expression, click Configure.


Note: The Field Expression window appears.
 In the Expression field, enter the following expression:
v_PrevClose*NoOfUnits
OR
Open the file named 12_LabGuide_UsingUnconnectedLookupTransformations_5-3
provided with this lab. Copy the command mentioned under Step 84 and paste it in the
Expression field.

168  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 Click Validate.


Note: The expression is Valid message appears.
 Click OK.


 To configure the target, from the mapping canvas, click the Target transformation.

Module 5: Advanced Transformations and Mapping Tasks  169

  



  
 

 


 In the General section of Target properties, enter Name as Tgt_UnconnectedLookup.


 From the properties pane, click Target.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 From the list, select TotalAmout.txt.

170  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


 Click OK.


 From the properties pane, click Field Mapping.
 Match the fields, as shown in the table below:

Incoming Field Target Field

TotalValue AccountValue

FullName FullName




Module 5: Advanced Transformations and Mapping Tasks  171

  



  
 

 


 To save the mapping, click Save.


 To run the mapping, click Run.


Note: The Run mapping window appears.

 From the Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.
 Click Run.






172  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


Note: Observe that 5 success rows are processed.
 On your local machine, go to C:\IICSLabFiles.
 Verify that 5 rows are written in TotalAmount.txt.





This concludes the lab.


Module 5: Advanced Transformations and Mapping Tasks  173

  



  
 

 




174  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 

Module 5: Advanced Transformations and Mapping Tasks
Lab 5-4: Creating a Mapping using SQL Transformation
Overview:
In IICS, you can use the SQL transformation to call a stored procedure or function in a Microsoft
SQL Server or an Oracle database.

In this lab, you will create a mapping using SQL transformation.

Objective:
? Create a mapping using SQL Transformation

Scenario:
Ruby wants to use stored procedure to fetch the total units sold for a given customer id from
ORDERS table. So, she asks John to create a mapping using SQL transformation to read the
data using Oracle database.

Duration:
15 minutes



Tasks:
Copy Source File:

1. Copy SQL_Input.txt file provided with this lab and paste it in your flat file directory
(C:\IICSLabFiles).



Create Procedure:
1. To open Oracle, from the windows Start menu, select SQL Developer.
2. When the Oracle SQL Developer opens, it displays the following window:


Note: After the application opens, the Tip of the Day window appears.

Module 5: Advanced Transformations and Mapping Tasks  175

  



  
 

 


3. To close the Tip of the Day window, click .



4. To create a procedure in CDI, click .


Note: The Connection Information window appears.

5. In the Password field, enter CDI.

176  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


6. Click OK.



7. To expand the Procedures section, click .


8. Right click Procedures and click New Procedure.


Note: The Create PL/SQL Procedure window appears.

9. In the Name field, enter GET_DATA.

Module 5: Advanced Transformations and Mapping Tasks  177

  



  
 

 


10. To add parameters to procedure, click .


11. Enter the details as shown in table below:

Name Type Mode

P_IN VARCHAR2 IN

P_OUT VARCHAR2 OUT

12.


178  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


13. Click OK.


Note: The GET_DATA tab appears.

14. In the GET_DATA tab, replace NULL; with following statement.
SELECT TOTAL_UNITS_SOLD INTO P_OUT from orders where CUST_ID=P_IN;
OR
Open the file named 13_LabGuide_UsingSQLTransformation_5-4 provided with this
lab. Copy the command mentioned under Step 13 and paste it to replace NULL.



Module 5: Advanced Transformations and Mapping Tasks  179

  



  
 

 


15. To compile and save the procedure, click .


16. To close the SQL Developer, click .



Create Mapping:
17. Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

180  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


18. Enter your login credentials and click Log In.


19. From the My Services window, select Data Integration.



Module 5: Advanced Transformations and Mapping Tasks  181

  



  
 

 


20. From the Navigation pane, select New.


21. From the New Asset window, click the Mappings tab, and select Mapping.
22. Click Create.


Note: The Mapping page appears.

182  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


23. In the Name field, enter XX_FirstName_SQLTransformation.


24. To configure the source, from the mapping canvas, click the Source transformation.


25. In the General section of Source properties, retain Name as Source.


26. From the properties pane, click Source.
27. From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


28. Retain Source Type as Single Object.
29. To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.

30. From the list, select SQL_Input.txt.

Module 5: Advanced Transformations and Mapping Tasks  183

  



  
 

 


31. Click OK.


32. From the list of available transformations, drag and drop SQL transformation on the link

between Source and Target.


33. Select the SQL transformation from the mapping canvas.
34. In the General section of SQL properties, retain the Name as SQL.


35. From the properties pane, click SQL.

184  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


36. From the Connection drop-down, select XX_FirstName_Oracle.


37. Retain SQL Type as Stored Procedure.
38. To select the stored procedure, click Select.


Note: The Select Stored Procedure window appears.

39. Select GET_DATA and click OK.


40. From the properties pane, click Field Mapping.
41. Drag ID from Incoming Fields section and drop it in the Stored Procedure Input Fields

section.



Module 5: Advanced Transformations and Mapping Tasks  185

  



  
 

 


42. To configure the target, from the mapping canvas, click the Target transformation.


43. In the General section of Target properties, retain Name as Target.


44. From the properties pane, click Target.
45. From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


46. Retain Target Type as Single Object.
47. To select the target object, from the Object field, click Select.


Note: The Target Object window appears.

48. On the Target Object window, select Create New at Runtime.
49. In the File Name field, enter Total_Units_Sold.txt.

186  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


50. Click OK.


51. To save the mapping, click Save.


52. To run the mapping, click Run.


Note: The Run mapping window appears.

Module 5: Advanced Transformations and Mapping Tasks  187

  



  
 

 


53. From the Runtime Environment drop-down, select your secure agent group.


Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.

54. Click Run.




188  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 


Monitor Status:
55. To monitor the mapping status, from the Navigation pane, click My Jobs.



56. When the task completes, the status changes to Success.




Verify Output:
57. On your local machine, go to C:\IICSLabFiles.
58. Verify that 2 is written in Total_Units_Sold.txt.





This concludes the lab.


Module 5: Advanced Transformations and Mapping Tasks  189

  



  
 

 




190  Module 5: Advanced Transformations and Mapping Tasks

  



  
 

 

Module 6: Mapping Parameters
Lab 6-1: Performing Complete Parameterization
Overview:
Parameters are placeholders that represent values in a mapping. In IICS, you can make a
mapping reusable with the help of parameters.

Objective:
? Create a completely parameterized mapping

Scenario:
Ruby wants to filter the opportunities based the probability, but the process of creating mapping
every time an opportunity is added is time consuming. When she explains this concern to John,
he recommends creating a completely parameterized mapping.

In this lab, John will create a completely parameterized mapping.

Duration:
30 minutes



Tasks:
Copy Source Files:

 Copy the following files provided with this lab and place the file in your flat file directory
(C:\IICSLabFiles):

Files

LowProbabilityOpportunities.csv

HighProbabilityOpportunities.csv



Create Opportunities in Salesforce:
 Log in to your Salesforce Developer account using your credentials.

Note: You can use the below mentioned link to log in:
https://login.salesforce.com/

Module 6: Mapping Parameters  191

  



  
 

 


 On the Salesforce homepage, from the available tabs, select Opportunities.


 From the Recent Opportunities section, select New.


Note: The New Opportunity window appears.

 Enter the details, as shown in the table below:

Field Name Values

Opportunity Name Team Training

Account Name NH Digital

Amount 700

Close Date Choose a date greater than the
current date

Stage Prospecting

Probability 10






192  Module 6: Mapping Parameters

  



  
 

 


 Click Save & New.


 Similarly, create several opportunities in Salesforce.

Note: You can refer the Salesforce_Opportunities.csv file provided with this lab to
create opportunities in Salesforce.



Create Mapping:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 6: Mapping Parameters  193

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



194  Module 6: Mapping Parameters

  



  
 

 


 To create a new asset, from the Navigation pane, select New.


 From the New Asset window, click the Mappings tab.
 Select Mapping and click Create.


Note: The Mapping page appears.

Module 6: Mapping Parameters  195

  



  
 

 


 In the Name field, enter XX_FirstName_MappingParameters.


 To configure the source, from the mapping canvas, click the Source transformation.
 In the General section of Source properties, enter Name as SO_Salesforce.


 From the properties pane, click Source.
 To create a new connection parameter, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_SalesforceConnection, and Display Label as Salesforce.

196  Module 6: Mapping Parameters

  



  
 

 


 Click OK.


 From Source Type drop-down, select Parameter.


 To create a new parameter, from the Parameter field, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_SalesforceObject, and the Display Label as Salesforce.

Module 6: Mapping Parameters  197

  



  
 

 


 Click OK.


 From the list of available transformations, drag and drop Filter transformation on to the
connector between SO_Salesforce and Target present on the mapping canvas.


 In General section of Filter properties, enter Name as FIL_RouteHighProbOpptys.


 From the properties pane, click Filter.

198  Module 6: Mapping Parameters

  



  
 

 


 From the Filter Condition drop-down, select Completely Parameterized.


 To create a new filter parameter, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_FirstFilterCondition, and Display Label as Target 1 Filter
Condition.
 Click OK.


 To configure the target, from the mapping canvas, click the Target transformation.

Module 6: Mapping Parameters  199

  



  
 

 


 In the General section of Target properties, enter Name as TG_HighProbOpptys.


 From the properties pane, click Target.
 To create a new connection parameter, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_LocalCSVConnection, and Display Label as LocalCSVFile.
 Click OK.



200  Module 6: Mapping Parameters

  



  
 

 


 From Target Type drop-down, select Parameter.


 To create a new parameter, from the Parameter field, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_HighProb, and the Display Label as HighProbabilityOpportunities.
 Click OK.


 From the properties pane, click Field Mapping.

Module 6: Mapping Parameters  201

  



  
 

 


 From the Field map options drop-down, select Automatic.


 From the list of available transformations, drag and drop a Filter transformation on to
the mapping canvas.


 Link SO_Salesforce to the Filter transformation.
 Select the Filter transformation from the mapping canvas.
 In General section of Filter properties, enter Name as FIL_RouteLowProbOpptys.


 From the properties pane, click Filter.
 From the Filter Condition drop-down, select Completely Parameterized.



202  Module 6: Mapping Parameters

  



  
 

 


 To create a new parameter, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_SecondFilterCondition, and Display Label as Target 2 Filter
Condition.
 Click OK.


 From the list of available transformations, drag and drop a Target transformation on to
the mapping canvas.



Module 6: Mapping Parameters  203

  



  
 

 


 Link FIL_RouteLowProbOpptys to the Target transformation.


 Select the Target transformation from the mapping canvas.
 In the General section of Target properties, enter Name as TG_LowProbOpptys.


 From the properties pane, click Target.
 From the Connection drop-down, select P_LocalCSVConnection.
 From Target Type drop-down, select Parameter.


 To create a new parameter, from the Parameter field, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_LowProb, and the Display Label as LowProbabilityOpportunities.

204  Module 6: Mapping Parameters

  



  
 

 


 Click OK.


 From the properties pane, click Field Mapping.
 From the Field map option drop-down, select Automatic.



Module 6: Mapping Parameters  205

  



  
 

 


 To validate the mapping, click .


Note: Mapping is valid message appears.
 To save the mapping, click Save.


 To run the mapping, click Run.


 From Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.

206  Module 6: Mapping Parameters

  



  
 

 


 Click Next.


 From the Salesforce (P_SalesforceConnection) Connection drop-down, select
XX_FirstName_SFDCDeveloper.
 From the Salesforce Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select Opportunity.
Note: You can also use the search feature.

Module 6: Mapping Parameters  207

  



  
 

 


 Click Select.


 Click Next.




208  Module 6: Mapping Parameters

  



  
 

 


 From the LocalCSVFile (P_LocalCSVConnection) Connection drop-down, select
XX_FirstName_LocalCSVFiles.
 To select the HighProbabilityOpportunities Object, click Select.


Note: The Select Target Object window appears.
 From the list, select HighProbabilityOpportunities.csv file.
 Click Select.


 From the LowProbabilityOpportunities Object field, click Select.


Note: The Target Object window appears.



Module 6: Mapping Parameters  209

  



  
 

 


 From the list, select LowProbabilityOpportunities.csv file.
 Click Select.


 Click Next.




210  Module 6: Mapping Parameters

  



  
 

 


 To define Target 1 Filter Condition (P_FirstFilterCondition) Parameter Details, click
New.


Note: The Data Filter window appears.


 From the Select field drop-down, select Probability (%).
 From the Equals drop-down, select Greater Than or Equals.
 Enter filter value as 70.
 Click OK.




Module 6: Mapping Parameters  211

  



  
 

 


 Similarly, for Target 2 Filter Condition (P_SecondFilterCondition) Parameter Details,
click New.


Note: The Data Filter window appears.


 From the Select field drop-down, select Probability (%).
 From the Equals drop-down, select Less Than.
 Enter filter value as 70.
 Click OK.


 To validate the parameters, click Validate.



212  Module 6: Mapping Parameters

  



  
 

 


 A message The template and parameters are valid appears. Click Run.




Monitor Status:
 To monitor the task status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


Note: You can refresh the job status if it does not change automatically.
 On your local machine, go to C:\IICSLabFiles.
 Verify that the correct probabilities are written to the following files:




Module 6: Mapping Parameters  213

  



  
 

 


HighProbabilityOpportunities.csv


LowProbabilityOpportunities.csv





This concludes the lab.

214  Module 6: Mapping Parameters

  



  
 

 

Module 6: Mapping Parameters
Lab 6-2: Using Parameter File in a Mapping Task
Overview:
Parameterized mapping allows adding inputs to the configuration point at runtime. You can also
use Informatica Cloud REST API to create, modify, and run parameterized tasks from a third-
party application.

In this lab, you will use the Informatica Cloud Mapping Designer’s Parameterized mapping to
accomplish the business requirements.

Objective:
? Build a fully parameterized mapping

Duration:
20 minutes



Tasks:
Create a Parameter File:

 Create a text file with name userparameters.txt and add the following content to it:
$$Filter_High=100000
$$Filter_Low=100000


 Copy the userparameters.txt file to your Secure Agent directory C:\Program

Files\Informatica Cloud Secure
Agent\apps\Data_Integration_Server\data\userparameters.




Module 6: Mapping Parameters  215

  



  
 

 


Create Mapping Task:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


 Enter your login credentials and click Log In.



216  Module 6: Mapping Parameters

  



  
 

 


 From the My Services window, select Data Integration.


 From the Navigation pane, select Explore.


 Go to Default folder and select the mapping XX_FirstName_MappingParameters.
 Click on the Ellipsis icon and select Edit.


Note: The Mapping canvas appears.

Module 6: Mapping Parameters  217

  



  
 

 


 Click the Ellipsis icon and select New Mapping Task...


 In the Task Name field, enter XX-ParameterizedMappingTask.
 From the Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in CDI-XX-FIRSTNAME format.
 Click Next.


 From the Salesforce (P_SalesforceConnection) Connection drop-down, select
XX_FirstName_SFDCDeveloper.
 In the Salesforce Object field, click Select.



218  Module 6: Mapping Parameters

  



  
 

 


 From the Select Source Object window, select Opportunity, and click Select.
Note: You can also use the search feature to locate the Opportunity object.


 Click Next.


 From the LocalCSVFile (P_LocalCSVConnection) Connection drop-down, select
XX_FirstName_LocalCSVFiles.
 From the HighProbabilityOpportunities Object field, click Create Target.


Note: The Create Target window appears.

Module 6: Mapping Parameters  219

  



  
 

 


 In the Object field, enter Target_High.csv, and click OK.


 From the LowProbabilityOpportunities Object field, click Create Target.


 In the Object field, enter Target_Low.csv, and click OK.


Note: When you set up the target parameters, ensure that the target directory does not
contain files with the same names for HighProbabilityOpportunities Object and
LowProbabilityOpportunities Object parameters.

220  Module 6: Mapping Parameters

  



  
 

 


 Click Next.


 From the Target 1 Filter Condition (P_FirstFilterCondition) Parameter Details field, click
New.


 From the Data Filter window, click Advanced.


 In the Filter Expression field, enter the following expression:
Amount >= to_decimal($$Filter_High)
OR
Open the file named 15_LabGuide_UsingParameterFile_6-2 provided with this lab.
Copy the command mentioned under Step 25 and paste it in the Expression field.

Module 6: Mapping Parameters  221

  



  
 

 


 Click OK.


Note: If the Data Filter window appears again, close the window.
 In the Target 2 Filter Condition (P_SecondFilterCondition) Parameter Details field, click
New.


 From the Data Filter window, click Advanced.


 In the Filter Expression field, enter the following expression:
Amount < to_decimal($$Filter_Low)
OR
Open the file named 15_LabGuide_UsingParameterFile_6-2 provided with this lab.
Copy the command mentioned under Step 29 and paste it in the Expression field.

222  Module 6: Mapping Parameters

  



  
 

 


 Click OK.


Note: If the Data Filter window appears again, close the window.
 Click Validate.


Note: The template and parameters are valid message appears.
 Click Next.



Module 6: Mapping Parameters  223

  



  
 

 


 Scroll down to the Advanced Options section, and in the Parameter File Name field,
enter userparameters.txt.
Note: Verify that the file name is exactly same as the created parameter file name or
else the task will fail.
 Click Finish.


 Click Run.




Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.



224  Module 6: Mapping Parameters

  



  
 

 


Note: The task runs successfully containing rows with zero errors. The number of
success rows vary depending on the number of rows present in your source that is the
Opportunity object in Salesforce.



Verify Results:
 On your local machine, go to C:\IICSLabFiles.
 Verify that correct entries are written to Target_High.csv and Target_Low.csv files.
Target_High.csv:


Target_Low.csv:





This concludes the lab.


Module 6: Mapping Parameters  225

  



  
 

 




226  Module 6: Mapping Parameters

  



  
 

 

Module 6: Mapping Parameters
Lab 6-3: Using In-Out parameters for Incremental Data Loading
Overview:
In IICS, you can use an in-out parameter as a persistent task variable to manage an incremental
data load.

In this lab, you will create a mapping with in-out parameter.

Objective:
? Create a mapping using Input-Output Parameters

Duration:
20 minutes



Tasks:
Insert Table:
1. To insert table in Oracle, from the windows Start menu, select SQL Developer.
2. When the Oracle SQL Developer opens, it displays the following window:


Note: After the application opens, the Tip of the Day window appears.

Module 6: Mapping Parameters  227

  



  
 

 


3. To close the Tip of the Day window, click .



4. To create a table in CDI, click .


Note: The Connection Information window appears.

5. In the Password field, enter CDI.

228  Module 6: Mapping Parameters

  



  
 

 


6. Click, OK.


7. Select the Worksheet tab.


8. Open the CUSTOMER.sql file (use the Open with Notepad option) provided with this lab

and copy the command from the file.
9. Paste the commands under Worksheet section.

10. Click .


Note: The script runs automatically.

Module 6: Mapping Parameters  229

  



  
 

 


11. Verify that the table is created, under Script Output section.


12. To close the SQL Developer, click .

Note: A Connection “CDI” has uncommited changes window appears.
13. Ensure that Commit Changes option is selected and click OK.


14. A Save Files window appears. Click Yes.



230  Module 6: Mapping Parameters

  



  
 

 


15. Provide a suitable name to the file and click Save.


Note: The SQL Developer closes.


Create Mapping:
16. Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 6: Mapping Parameters  231

  



  
 

 


17. Enter your login credentials and click Log In.


18. From the My Services window, select Data Integration.



232  Module 6: Mapping Parameters

  



  
 

 


19. From the Navigation pane, select New.


20. From the New Asset window, click the Mappings tab, and select Mapping.
21. Click Create.


Note: The Mapping page appears.

22. In the Name field, enter XX_FirstName_InOutParameter.



Module 6: Mapping Parameters  233

  



  
 

 


23. To create an input-output parameter, click .


Note: The Parameters window appears.

24. From the Input-Output Parameters section, click .


Note: The New In-Out Parameter window appears.

25. In the Name field, enter IncludeMaxDate.
26. Retain Data Type as String.


27. In the Precision field, enter 40.

234  Module 6: Mapping Parameters

  



  
 

 


28. In the Default Value field, enter 2019-06-24.


29. Click OK.



Module 6: Mapping Parameters  235

  



  
 

 


30. To close the Parameter window, click .


31. To configure the source, from the mapping canvas, click the Source transformation.


32. In the General section of Source properties, retain Name as Source.


33. From the properties pane, click Source.
34. From the Connection drop-down, select XX_FirstName_Oracle.


35. Retain Source Type as Single Object.
36. To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.

37. From the list, select CUSTOMER.

236  Module 6: Mapping Parameters

  



  
 

 


38. Click OK.


39. From the Source pane, expand Query Options.
40. To apply filter to select rows from CUSTOMER table, click Configure.


Note: The Query Options window appears.

41. To add filter condition, click .




Module 6: Mapping Parameters  237

  



  
 

 


42. Enter the details as shown in table below:

Object Field Operator Value

CUSTOMER MODIFIED_DATE Greater Than ( >) $$IncludeMaxDate

43. Click OK.


44. To configure the sort condition, click Configure.



45. To add sort condition, click .



238  Module 6: Mapping Parameters

  



  
 

 


46. Enter the details, as shown in the table below:

Object Field

CUSTOMER MODIFIED_DATE

47. Click OK.


48. From the list of available transformations, drag, and drop Expression transformation on

the link between Source and Target.


49. Select the Expression transformation from the mapping canvas.

Module 6: Mapping Parameters  239

  



  
 

 


50. In the General section of Expression properties, retain the Name as Expression.


51. From the properties pane, click Expression.

52. To add a new expression, click .


Note: The New Field window appears.

53. Enter the details as shown in table below:

Field Type Name Type Precision Scale

Output Field OutMaxDate string 40 0

54. Click OK.


55. To configure expression, click Configure.


Note: The Field Expression window appears.

240  Module 6: Mapping Parameters

  



  
 

 


56. In the Expression field, copy and paste the following expression:
SetVariable($$IncludeMaxDate,  TO_CHAR(MODIFIED_DATE, 'YYYY-MM-DD'))
OR
Open the file named 16_LabGuide_UsingInOutParameter_6-3 provided with this lab.
Copy the command mentioned under Step 56 and paste it in the Expression field.

57. Click Validate.


58. Click OK.



Module 6: Mapping Parameters  241

  



  
 

 


59. To configure the target, from the mapping canvas, click the Target transformation.


60. In the General section of Target properties, retain Name as Target.


61. From the properties pane, click Target.
62. From the Connection drop-down, select XX_FirstName_Oracle.


63. Retain Target Type as Single Object.
64. To select the target object, from the Object field, click Select.


Note: The Target Object window appears.

65. In the Target Object window, select Create New at Runtime.
66. In the Table Name field, enter CUSTOMER_TARGET.

242  Module 6: Mapping Parameters

  



  
 

 


67. Click OK.


68. To save the mapping, click Save.


69. To run the mapping, click Run.


Note: The Run mapping window appears.

Module 6: Mapping Parameters  243

  



  
 

 


70. From the Runtime Environment drop-down, select your secure agent group.


Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.

71. Click Run.




Monitor Status:
72. To monitor the mapping status, from the Navigation pane, click My Jobs.



244  Module 6: Mapping Parameters

  



  
 

 


73. When the task completes, the status changes to Success.


Note: Verify that 7 rows are processed by the mapping.



Verify Output:
74. From the windows Start menu, select SQL Developer.
75. When the Oracle SQL Developer opens, it displays the following window:


Note: After the application opens, the Tip of the Day window appears.

76. To close the Tip of the Day window, click .



Module 6: Mapping Parameters  245

  



  
 

 


77. To view tables in CDI, click .


Note: The Connection Information window appears.

78. In the Password field, enter CDI.
79. Click OK.



80. To expand the Tables section, click .



246  Module 6: Mapping Parameters

  



  
 

 


81. Select CUSTOMER_TARGET.


82. To view the data in CUSTOMER_TARGET table, click Data.
83. Observe the data in the OUTMAXDATE field is greater than 2019-06-24.





This concludes the lab.


Module 6: Mapping Parameters  247

  



  
 

 




248  Module 6: Mapping Parameters

  



  
 

 

Module 7: Expression Macro and Dynamic Linking
Lab 7-1: Using Expression Macro in a Mapping
Overview:
An expression macro creates repetitive or complex expressions in mappings.

In this lab, you will implement expression macro in a mapping.

Objective:
? Use an Expression Macro in a mapping

Duration:
30 minutes



Tasks:
Create Mapping:

 Access your cloud trial account by clicking Launch in your option Menu. If the option
menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 7: Expression Macro and Dynamic Linking  249

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



250  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab, and select Mapping.
 Click Create.


Note: The Mapping page appears.

Module 7: Expression Macro and Dynamic Linking  251

  



  
 

 


 In the Name field, enter XX_FirstName_MacroDateFormat.


 To configure the source, from the mapping canvas, click the Source transformation.
 In the General section of the Source properties, retain the Name as Source.


 From the properties pane, click Source.
 Select New Parameter.


Note: The New Input Parameter window appears.
 In the Name field, enter ParSrcCon.

252  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 Click OK.


 Select Source Type as Parameter.
 To create another parameter, select New Parameter.


Note: The New Input Parameter window appears.
 In the Name field, enter SrcObj.

Module 7: Expression Macro and Dynamic Linking  253

  



  
 

 


 Click OK.




Add Expression Transformation:
 From the list of available transformations, drag, and drop Expression transformation on
the link between Source and Target.


 Select the Expression transformation from the mapping canvas.

254  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 In the General section of Expression properties, enter Name as Macro_Expression.


 From the properties pane, click Incoming Fields.
 In the Field Rules section, from Field Selection Criteria drop-down, select Fields by
Data Types.
 Click Configure.


Note: The Configure Field Rules window appears.
 Select date/time and click OK.


 From the properties pane, click Expression.

 To add a new expression, click .


Note: The New Field window appears.
 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Variable Field NewFormat string 100 0

Module 7: Expression Macro and Dynamic Linking  255

  



  
 

 


 Click OK.


 To configure the expression, click Configure.


Note: The Field Expression window appears.
 In the Expression field, enter the following expression:
'mm/dd/yyyy'
OR
Open the file named 17_LabGuide_UsingExpressionMacroInMapping_7-1 provided
with this lab. Copy the command mentioned under Step 30 and paste it in the
Expression field.

256  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 Click Validate.


Note: If you copy and paste the above expression, you should verify the expression to
avoid getting an apostrophes error.
 Click OK.



 To add a new expression, click .


 From Field Type drop-down, select Input Macro Field.
 In the Name field, enter port.

Module 7: Expression Macro and Dynamic Linking  257

  



  
 

 


 Click OK.


 To configure the expression, click Configure.


Note: The Inputs for Macro Input Variable window appears.
 Retain the default settings and click OK.



 To create a new macro output field, click .


Note: The New Field window appears.
 From Field Type drop-down, select Output Macro Field.

258  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 Set Precision to 100.
 Click OK.


 To configure the expression, click Configure.


Note: The Field Expression window appears.
 In the Expression field, enter the following expression:
TO_CHAR(%port%,NewFormat)
OR
Open the file named 17_LabGuide_UsingExpressionMacroInMapping_7-1 provided
with this lab. Copy the command mentioned under Step 44 and paste it in the
Expression field.

Module 7: Expression Macro and Dynamic Linking  259

  



  
 

 


 Click OK.


Note: As the field is macro field, Validate option is disabled.



Add Expression Transformation:
 From the list of available transformations, drag and drop Expression transformation on
to the mapping canvas.


 Link Source to Expression and Expression to Target.



260  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 Select the Expression transformation from the mapping canvas.


 In the General section of Expression properties, enter Name as PassThruExp.


 From the properties pane, click Incoming Fields.

 To create a new Field Rule, click .


 From the Operator drop-down, select Exclude.
 From Field Selection Criteria drop-down, select Fields By Data Types.
 Click Configure.


Note: The Configure Field Rules window appears.

Module 7: Expression Macro and Dynamic Linking  261

  



  
 

 


 Select date/time and click OK.


 Ensure that the Field Selection Criteria for the Include Operator is set to All Fields. If it is
not, then change the Field Selection Criteria for the Include Operator to All Fields.


  To configure the target, from the mapping canvas, click the Target transformation.
 In the General section of Target properties, retain Name as Target.


 From the properties pane, click Target.
 Select New Parameter.


Note: The New Input Parameter window appears.
 In the Name field, enter TgtCon.

262  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 Click OK.


 Select Target Type as Parameter.
 To create another parameter, select New Parameter.


Note: The New Input Parameter window appears.
 In the Name field, enter tgtObj.

Module 7: Expression Macro and Dynamic Linking  263

  



  
 

 


 Click OK.


 From the properties pane, click Field Mapping.
 From the Field map options drop-down, select Automatic.



264  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 To save the mapping, click Save.


 To run the mapping, click Run.


Note: The Run mapping window appears.
 From the Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.
 Click Next.



Module 7: Expression Macro and Dynamic Linking  265

  



  
 

 


 From the ParSrcCon Connection drop-down, select XX_FirstName_SFDCDeveloper.


 Retain Source Type as Single Object.
 To select the source object, from the SrcObj Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select Account.
 Click Select.



266  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 Click Next.


 From TgtCon Connection drop-down, select XX_FirstName_LocalCSVFiles.
 To select the target object, from tgtObj Object, click Create Target.


Note: The Create Target window appears.
 In the Object field, enter AccountWithFormattedDate.csv.
 Click OK.



Module 7: Expression Macro and Dynamic Linking  267

  



  
 

 


 Click Validate.


 Click Run.




Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.



268  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 When the task completes, the status changes to Success.


 On your local machine, go to C:\IICSLabFiles.
 Verify that dates are written in MM/DD/YYYY format in
AccountWithFormattedDate.csv file.





This concludes the lab.


Module 7: Expression Macro and Dynamic Linking  269

  



  
 

 




270  Module 7: Expression Macro and Dynamic Linking

  



  
 

 

Module 7: Expression Macro and Dynamic Linking
Lab 7-2: Using Dynamic Linking in a Mapping
Overview:
In IICS, the Dynamic Linking creates a new target file at run time.

In this lab, you will create a mapping to sort the data and load it to the target using Dynamic
Linking.

Objective:
? Use Dynamic Linking by creating a Flat File at runtime

? Append time stamp in the name of the file

Duration:
20 minutes



Tasks:
Copy Source File:

 Copy Customer_Detail.csv provided with this lab and place the file in your flat file
directory (C:\IICSLabFiles).



Create Mapping:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 7: Expression Macro and Dynamic Linking  271

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



272  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab, and select Mapping.
 Click Create.


Note: The Mapping page appears.

Module 7: Expression Macro and Dynamic Linking  273

  



  
 

 


 In the Name field, enter XX_FirstName_DynamicLinking.


 To configure the source, from the mapping canvas, click the Source transformation.

 In the General section of Source properties, retain the Name as Source.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.
 Select Customer_Detail.csv from the list.

274  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 Click OK.




Add Sorter Transformation:
 Drag and drop the Sorter transformation on the link between the Source and Target
transformations.


Note: Sorter transformation reads the first names of customers from the source and
sorts them alphabetically.
 Select the Sorter transformation from the mapping canvas.

Module 7: Expression Macro and Dynamic Linking  275

  



  
 

 


 In General section of Sorter properties, retain the Name as Sorter.


 From the properties pane, click Sort.

 To add a new sort condition, click .


 Enter the condition, as shown in the table below:

Field Name Sort Order
First_Name Ascending


 To configure the target, from the mapping canvas, click the Target transformation.



276  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 In the General section of Target properties, retain Name as Target.


 From the properties pane, click Target.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 In the Target Object window, select Create New at Runtime.
 Enter Updated_Data_%d_%m_%y.csv as File Name.


Note: The %d, %m, and %y will determine the date, month, and year respectively. This
timestamp also determines when it will create the file.
 To enable time stamp feature, select Handle Special Characters.

Module 7: Expression Macro and Dynamic Linking  277

  



  
 

 


 Click OK.


Note: As you create a blank new file, you do not need to map the source and target
fields. Notice that the Operation is set as Insert by default.


 To save the mapping, click Save.


Note: After you save the mapping, the mapping status (Valid or Invalid) is automatically
displayed next to the mapping name.
 To run the mapping, click Run.


Note: The Run mapping window appears.

278  Module 7: Expression Macro and Dynamic Linking

  



  
 

 


 From Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.
 Click Run.




Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


 On your local machine, go to C:\IICSLabFiles.
 Verify that the Updated_Data_XX_XX_XX.csv file consist 15 rows that are sorted order
according to the First Name.

Module 7: Expression Macro and Dynamic Linking  279

  



  
 

 


Note: XX_XX_XX is the date when the file is created.





This concludes the lab.

280  Module 7: Expression Macro and Dynamic Linking

  



  
 

 

Module 8: Replication Task
Lab 8-1: Replicating Data to a Flat file
Overview:
A replication task replicates data from a source to a target.

Objective:
? Create a replication task to replicate data to a CSV file

Scenario:
Ruby is concerned that the updated data on Salesforce Account object is not saved anywhere
for backup purposes. So, John suggests creating a replication task to load Account objects in
Salesforce to flat file.

Duration:
10 minutes



Tasks:
Create Replication Task:

 Access your cloud trial account by clicking Launch in your option Menu. If the option
menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 8: Replication Task  281

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



282  Module 8: Replication Task

  



  
 

 


 To create a new asset, from the Navigation pane, select New.


 In the New Asset window, select Replication Task, and click Create.


 In the Task Name field, enter XX_FirstName_SFDCAccount_to_FF.


 From Source Connection drop-down, select XX_FirstName_SFDCDeveloper.

Module 8: Replication Task  283

  



  
 

 


 From Objects to Replicate field, select Include Objects.
 Click Select.


Note: The Include Source Objects window appears.
 From the list, select Account.
 Click Select.


 Select Next.


 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.

284  Module 8: Replication Task

  



  
 

 


 Enter XX1_ in the Target Prefix field.


Note: Here, XX are your name initials.
 Click Next.


 From Field Exclusions section, click Exclude Fields.


Note: The Field Exclusion window appears.
 From the Object drop-down, select Account.



Module 8: Replication Task  285

  



  
 

 


 In the Included Fields section, retain only Account Name and Account Id.

Note: To retain Account Name and Account Id, select rest of the fields, and click .
 Click OK.


 To save and close the Replication Task wizard, click Finish.


 To run the Replication task, click Run.




286  Module 8: Replication Task

  



  
 

 


Monitor the Synchronization Task:

 To monitor the task, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


Note: The number of processed rows can change depending upon the data in
Salesforce Account object.



Examine Results:
 To locate the created files, go to C:\IICSLabFiles.
 Observe that the file XX1_ACCOUNT is created.



Module 8: Replication Task  287

  



  
 

 


 Verify that XX1_ACCOUNT contains only two columns.





This concludes the lab.

288  Module 8: Replication Task

  



  
 

 

Module 9: Masking Task
Lab 9-1: Creating a Masking Task
Overview:
A masking task masks source data and create a data subset of source data in target.

In this lab, you will mask the account phone number using a masking task.

Objective:
? Create a masking task to mask phone number

Duration:
10 minutes



Tasks:
Create Masking Task:

 Open the Outlets.csv file (used in Lab 3-1) and note the phone numbers for some of the
accounts.

 Access your cloud trial account by clicking Launch in your option Menu. If the option
menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 9: Masking Task  289

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



290  Module 9: Masking Task

  



  
 

 


 To create a new asset, from the Navigation pane, select New.


 In the New Asset window, select Masking Task, and click Create.


 In the Task Name field, enter XX_FirstName_PhoneNumber_Masking.

Module 9: Masking Task  291

  



  
 

 


 Click Next.


 From Source Connection drop-down, select XX_FirstName_SFDCDeveloper.

 From the Source Object drop-down, select Account.
 Click Next.


 Verify that the Same as source? field is selected.

292  Module 9: Masking Task

  



  
 

 


 Click Next.


 To skip the Data Filters step, click Next.
 If you see the following warning message in Masking step:
Cannot read the salesforce_default_values.properties file from the Secure Agent
installation directory. Verify that the file exists and is not empty.


then,
browse to the C:\Program Files\Informatica Cloud Secure
Agent\downloads\package-cmask.9\package\dmask on your local machine and verify
that the salesforce_default_values.properties file is present.

Module 9: Masking Task  293

  



  
 

 



Note: You can skip step 15, if you do not see the mentioned warning message.
 In the Define Masking Rules section, from the Phone field drop-down, select Phone.
Note: To mask all the fields of Account object, you can use the Default Assignment
option. For this lab, we will just mask the Phone field.


Note: Phone Masking masks a phone number with random numbers in the same format
as the original number.

294  Module 9: Masking Task

  



  
 

 


 Click Next.


 From the Runtime Environment drop-down, select your secure agent group.



Module 9: Masking Task  295

  



  
 

 


 To save and close the Masking Task wizard, click Finish.


 To run the Masking task, click Run.








296  Module 9: Masking Task

  



  
 

 


Monitor the Status:

 To monitor the task, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


Note: The number of processed rows can change depending upon the data in
Salesforce Account object.



Examine Results:
 Log in to your Salesforce Developer account using your credentials.


Note: You can use the below mentioned link to log in to Salesforce:
https://login.salesforce.com/

Module 9: Masking Task  297

  



  
 

 


 On the Salesforce homepage, from the available tabs, select Accounts.


 Observe the phone number for accounts noted in step 1.
 Verify that the phone numbers have been masked with random phone numbers.





This concludes the lab.

298  Module 9: Masking Task

  



  
 

 

Module 11: Taskflows
Lab 11-1: Creating a Parallel Taskflow
Overview:
A taskflow enables you to add multiple data integration tasks and run it in parallel or in a specific
sequence.

In this lab, you will create a parallel taskflow.

Objective:
? Configure Taskflow using a template

Duration:
10 minutes



Tasks:
Create Parallel Taskflow:
1. Access your cloud trial account by clicking Launch in your option Menu. If the option menu

is labeled anything other than Launch, click the down arrow to the right and click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 11: Taskflows  299

  



  
 

 


2. Enter your login credentials and click Log In.


3. From the My Services window, select Data Integration.



300  Module 11: Taskflows

  



  
 

 


4. From the Navigation pane, select New.


5. From the New Asset window, click the Taskflows tab.
6. Select Parallel Tasks and click Create.


Note: The New Taskflow window appears.

Module 11: Taskflows  301

  



  
 

 


7. From the General section of Taskflow properties, enter Name as
XX_FirstName_ParallelTaskflow.


8. From the canvas, select Data Task 1.


9. In the General section of Data Task 1 properties, enter Name as Multi Object.


10. From the properties pane, click Data Task.
11. To select the data task, from the Data Task field, click Select.


Note: The Select Data Task window appears.

12. From the list, select XX_FirstName_MultiObject.

302  Module 11: Taskflows

  



  
 

 


13. Click Select.


14. From the canvas, select Data Task 2.


15. In the General section of Data Task 1 properties, enter Name as Mapping Task.


16. From the properties pane, click Data Task.

Module 11: Taskflows  303

  



  
 

 


17. To select the data task, from the Data Task field, click Select.


Note: The Select Data Task window appears.

18. From the list, select XX_NormalizerAggregator_Task.
19. Click Select.



20. To validate the taskflow configuration, click .

Note: The Validation pane displays The taskflow is valid message.



304  Module 11: Taskflows

  



  
 

 


21. To save the taskflow, click Save.


22. To run the taskflow, click Run.






Monitor Task:
23. To monitor the task, from the Navigation pane, click My Jobs.



Module 11: Taskflows  305

  



  
 

 


24. When the task completes, the status changes to Success.



Note: If the status of the task does not change to success automatically, click   to
refresh task status.

25. To view the status of the subtask, click View Subtasks.


26. Verify that both the tasks are executed successfully.





This concludes the lab.

306  Module 11: Taskflows

  



  
 

 

Module 11: Taskflows
Lab 11-2: Passing in-out parameters in a Taskflow
Overview:
A Taskflow enables you to add multiple data integration tasks and run them in a specific
sequence or in parallel.

In this lab, you will create a Taskflow to pass value through in-out parameter.

Objective:
? Create a Taskflow

Duration:
15 minutes



Tasks:
Create Mapping Task:

 Access your cloud trial account by clicking Launch in your option Menu. If the option
menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 11: Taskflows  307

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



308  Module 11: Taskflows

  



  
 

 


 From the Navigation pane, select New.


 In the New Asset window, select Mapping Task, and click Create.


Note: The New Mapping Task window appears.

 In the Task Name field, enter XX_InOutParameter_Task.


 From the Runtime Environment drop-down, select your secure agent group.

Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.

Module 11: Taskflows  309

  



  
 

 


 To select the mapping, click Select.


Note: The Select a Mapping window appears.

 From the list, select XX_FirstName_InOutParameter.
 Click Select.


 Click Next.



310  Module 11: Taskflows

  



  
 

 


 Retain the In-Out Parameters configuration and click Next.


 Click Finish.




Module 11: Taskflows  311

  



  
 

 


Create Taskflow:
 From the Navigation pane, select New.


 From the New Asset window, click the Taskflows tab.
 Select Taskflow and click Create.


Note: The New Taskflow window appears.
 From the Taskflow properties pane, select General.
 In Name field, enter XX_InOut_Taskflow.



312  Module 11: Taskflows

  



  
 

 


 From the Design palette, drag and drop Data Task on the link between Start and End.


 In the General section of Data Task properties, enter Name as InOutParameter.


 From the properties pane, click Data Task.
 To select a Data Task, click Select.


Note: The Select Data Task window appears.
 From the list, select XX_InOutParameter_Task.

Module 11: Taskflows  313

  



  
 

 


 Click Select.


 From the properties pane, click Input Fields.

 To add an Input Field, click .


 From the InOut Parameters drop-down, select IncludeMaxDate.



 To provide value for IncludeMaxDate, select the field and click .


Note: The Edit Value window appears.

314  Module 11: Taskflows

  



  
 

 


 In the blank field, enter 2019-06-24 and click OK.


 To save the Taskflow, click Save.


 To run the Taskflow, click Run.






Module 11: Taskflows  315

  



  
 

 


Monitor status:
 To monitor the task, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


Note: You can refresh the page if the status does not change automatically.
 To view the status of the subtask, click View Subtasks.


 Verify that 7 rows are processed by the task and the task executed successfully.





This concludes the lab.

316  Module 11: Taskflows

  



  
 

 

Module 11: Taskflows
Lab 11-3: Invoking a Taskflow through a File Listener
Overview:
A file listener listens to files on a defined location. Taskflow use file listener to monitor specific
folders and receive notification through a call-back API when a file event occurs.

In this lab, you will invoke a Taskflow through a File Listener.

Objective:
? Create a Synchronization Task

? Create a File Listener

? Create a Taskflow

Duration:
15 minutes



Tasks:
Create Synchronization Task:

 Access your cloud trial account by clicking Launch in your option Menu. If the option
menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.




Module 11: Taskflows  317

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



318  Module 11: Taskflows

  



  
 

 


 From the Navigation pane, select New.


 In the New Asset window, select Synchronization Task, and click Create.


Note: The New Synchronization Task window appears.

 In the Task Name field, enter File_Listener_Task.

Module 11: Taskflows  319

  



  
 

 


 From the Task Operation drop-down, select Insert.


 Click Next.


 From the Connection drop-down, select XX_FirstName_SFDCDeveloper.

 From the Source Object drop-down, select Account.



320  Module 11: Taskflows

  



  
 

 


 Click Next.


 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.
 From the Target Object field, select Create Target.


Note: The Create Target window appears.
 In the File Name field, add FlatFile_ before Account.csv.

Module 11: Taskflows  321

  



  
 

 


 Click OK.


 Click Next.



322  Module 11: Taskflows

  



  
 

 


 To skip Data Filters step, click Next.


 Verify that all the source fields are mapped with target fields.
 To validate the mapping, click Validate Mapping.
 To save and close the synchronization task, click Finish.

Module 11: Taskflows  323

  



  
 

 


Create File Listener:
 From the Navigation pane, select New.


 From the New Asset window, click the Components tab.
 Select File Listener and click Create.


 In the File Listener Name field, enter File_Listener.



324  Module 11: Taskflows

  



  
 

 


 Retain the Status as Enabled.


 From the Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.
 From the Connection Type drop-down, select Local Folder.


 In the Listener Rules section, enter the details as shown in table below:

Folder Path Pattern Type File Pattern

C:\IICSLabFiles Wildcard *.csv

 In the Notify when file field, select Arrives and Is updated.



Module 11: Taskflows  325

  



  
 

 


 To stop listening to the configured folder, if the rules are met, select Stop checking if
rules are met.


 To save the file listener, click Save.


Create Taskflow:

 From the Navigation pane, select New.


 From the New Asset window, click the Taskflows tab.

326  Module 11: Taskflows

  



  
 

 


 Select Taskflow and click Create.


Note: The New Taskflow window appears.
 From the Taskflow properties pane, select General.
 In Name field, enter XX_Listener_Taskflow.


 From the Taskflow properties pane, select Start.
 From the Binding drop-down, select Event.



Module 11: Taskflows  327

  



  
 

 


 From the Event Source Name field drop-down, select fileListenerTask >
fileListenerTask: File_Listener.


 From the Design palette, drag and drop Data Task on the link between Start and End.


 In the General section of Data Task properties, enter Name as Multi_Object.


 From the properties pane, click Data Task.

328  Module 11: Taskflows

  



  
 

 


 To select a Data Task, click Select.


Note: The Select Data Task window appears.
 From the list, select XX_FirstName_MultiObject.
 Click Select.


 To save the Taskflow, click Save.



 To bind the file listener with the taskflow, click  and select Publish.






Module 11: Taskflows  329

  



  
 

 


Start the File Listener:
 To start the file listener, from the Navigation pane, click Explore.


 Navigate to Default, from the list, select File_Listener.

 To start the file listener, click  and select Start.


Note: A message Started File_Listener appears.

Run Synchronization Task:
 To run the synchronization task, from the Default folder, select File_Listener_Task.

 Click  and select Run.




330  Module 11: Taskflows

  



  
 

 


Monitor status:
 To monitor the task, from the Navigation pane, click My Jobs.


 When the synchronization task (File_Listener_Task) completes, the status changes to
Success.
 The file listener automatically starts the taskflow (XX_Listener_Taskflow).


 To verify that the taskflow is started by file listener, click on XX_Listener_Taskflow.


 From the XX_Listener_Taskflow (Start) Properties section, select Input Fields.
 Verify that the input for taskflow is File_Listener.





This concludes the lab.


Module 11: Taskflows  331

  



  
 

 




332  Module 11: Taskflows

  



  
 

 

Module 12: Advanced Options
Lab 12-1: Configuring SQL Override Setting in Lookup
Transformation
Overview:
A Lookup transformation queries the lookup object based on the fields and properties
configured in the Lookup transformation.

In this lab, you will create a mapping using the Lookup Transformation and set a Lookup SQL
override command for that transformation.

Objective:
? Create a mapping using Lookup transformation

? Configure SQL override setting in Lookup transformation

Duration:
15 minutes



Tasks:
Copy Source Files:

 Copy Source_LKP_SQL.csv file provided with this lab and place the file in your flat file
directory (C:\IICSLabFiles).



Create Mapping:
 Access your cloud trial account by clicking Launch in your option Menu. If the option menu

is labeled anything other than Launch, click the down arrow to the right and click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 12: Advanced Options  333

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



334  Module 12: Advanced Options

  



  
 

 


 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab.
 Select Mapping and click Create.


Note: The Mapping page appears.

Module 12: Advanced Options  335

  



  
 

 


 In the Name field, enter XX_FirstName_LookupOverride.


Note: XX refers to your initials, and FirstName refers to your First Name.

 To configure the source, from the mapping canvas, click the Source transformation.


 In the General section of Source properties, enter Name as Src.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.
 Select Source_LKP_SQL.csv from the list.

336  Module 12: Advanced Options

  



  
 

 


 Click OK.






Add an Expression Transformation:
 From the list of available transformations, drag and drop the Expression transformation
between Src and Target.


 Select the Expression transformation from the mapping canvas.

Module 12: Advanced Options  337

  



  
 

 


 In the General section of the Expression properties, enter Name as Exp_Format.


 From the properties pane, click Expression.

 To add a new expression, click .


Note: The New Field window appears.
 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Output Field Upperfirstname string 40 0

 Click OK.



338  Module 12: Advanced Options

  



  
 

 


 To configure the expression, click Configure.


Note: The Field Expression window appears.
 In the Expression field, enter the following expression:
UPPER(FIRSTNAME)
OR
Open the file named 23_LabGuide_ConfiguringSQLOverrideSettingInLookup_12-1
provided with this lab. Copy the command mentioned under Step 25 and paste it in the
Expression field.
 Click Validate.


Note: The expression is Valid message appears.

Module 12: Advanced Options  339

  



  
 

 


 Click OK.




Add Lookup Transformation:
 From the list of available transformations, drag and drop the Lookup transformation
between Exp_Format and Target.


 Select the Lookup transformation on the mapping canvas.



340  Module 12: Advanced Options

  



  
 

 


 In the General section of the Lookup properties, enter Name as Lkp_Override.


 From the properties pane, click Lookup Object.
 From the Connection drop-down, select XX_FirstName_Oracle.


 Retain Source Type as Single Object.
 To select the lookup object, from the Lookup Object field, click Select.


Note: The Select Source Object window appears.
 Select LKP_TABLE from the list.
 Click OK.



Module 12: Advanced Options  341

  



  
 

 


 Retain Multiple Matches as Return any row.


 From the properties pane, click Lookup Condition.

 To add a new Lookup Condition, click .


 Enter the lookup condition, as shown in the table below.

Lookup Field Operator Incoming Field

NAME =  Upperfirstname


 From the properties pane, click Advanced.
 In the Lookup SQL Override field, enter the following query:
select CUST_ID as CUST_ID, UPPER(NAME) as NAME from LKP_TABLE
OR
Open the file named 23_LabGuide_ConfiguringSQLOverrideSettingInLookup_12-1
provided with this lab. Copy the command mentioned under Step 42 and paste it in the
Lookup SQL Override field.



342  Module 12: Advanced Options

  



  
 

 


 To configure the target, from the mapping canvas, click the Target transformation.


 In the General section of the Target properties, enter Name as Tgt.


 From the properties pane, click Target.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 In the Target Object window, select Create New at Runtime.

Module 12: Advanced Options  343

  



  
 

 


 Enter Target_File.txt as File Name.


 Click OK.


 To save the mapping, click Save.


 To run the mapping, click Run.


Note: The Run mapping window appears.

344  Module 12: Advanced Options

  



  
 

 


 From the Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in CDI-XX-FIRSTNAME format.
 Click Run.




Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


Note: If the status of the task does not change to success automatically, click  to
refresh task status.
 On your local machine, navigate to C:\IICSLabFiles.

Module 12: Advanced Options  345

  



  
 

 


 Open Target_File.txt and verify the contents.





This concludes the lab.

346  Module 12: Advanced Options

  



  
 

 

Module 12: Advanced Options
Lab 12-2: Using Primary Key Chunking in a Synchronization Task
Overview:
Primary key chunking or PK chunking optimizes performance when you extract data from large
data sets.

In this lab, you will create a synchronization task and configure PK Chunking.

Objective:
? Enable PK chunking for a Synchronization task

? View queries and chunking lines in session log

Duration:
20 minutes



Tasks:
Copy Source Files:

 Copy Users.csv file provided with this lab and paste it in your flat file directory
(C:\IICSLabFiles).



Create Synchronization Task:
 Access your cloud trial account by clicking Launch in your option Menu. If the option menu

is labeled anything other than Launch, click the down arrow to the right and click Launch.


Note: Follow this step, if you have navigated away from login page.

Module 12: Advanced Options  347

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



348  Module 12: Advanced Options

  



  
 

 


 From the Navigation pane, select New.


 In the New Asset window, select Synchronization Task, and click Create.


Note: A six-step Synchronization Task wizard appears.

 In the Task Name field, enter XX_FirstName_PKChunking.


 From the Task Operation drop-down, select Insert.

Module 12: Advanced Options  349

  



  
 

 


 Click Next.


 From the Connection drop-down, select XX_FirstName_SFDCDeveloper.
 Retain Source Type as Single.


 From the Source Object drop-down, select Contact.
 Click Next.


 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.

350  Module 12: Advanced Options

  



  
 

 


 From the Target Object drop-down, click Select.


Note: The Select Target Object window appears.
 From the list, select Users.csv.
 Click Select.


 Click Next.


 To skip the Data Filters step, click Next.


Module 12: Advanced Options  351

  



  
 

 


 Verify that all the source fields are mapped to target fields.


Note: If the fields are not mapped, from Automatch drop-down, select Exact Field Name.
If the fields are already mapped, do not re-map the fields.
 To validate the mapping, click Validate Mapping.


Note: A message The field mapping is valid and has no errors appears.

352  Module 12: Advanced Options

  



  
 

 


 Click Next.


 Scroll down to Advanced Salesforce Options.
 From the Salesforce API drop-down, select Bulk API.
 Select Enable PK Chunking.
 In the PK Chunking size field, enter 5.



Module 12: Advanced Options  353

  



  
 

 


 To save and close the synchronization task wizard, click Finish.


 To run the Synchronization task, click Run.




Monitor the Synchronization Task:
 To monitor the task, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


Note: If the status of the task does not change to success automatically, click  to

354  Module 12: Advanced Options

  



  
 

 


refresh the task status — the number of success rows changes according to data in
Salesforce.
 To view the job details, click on the Instance Name (XX_FirstName_PKChunking-1).


 Click Download Session Log. The file is available on your local machine.


 Open the session log file and observe the chunk size of 5.





This concludes the lab.


Module 12: Advanced Options  355

  



  
 

 




356  Module 12: Advanced Options

  



  
 

 

Module 13: Hierarchical Connectivity
Lab 13-1: Creating a Mapping using a REST V2 Connector
Overview:
REST is web standards-based architecture and uses HTTP Protocol for data communication.
These commonly used APIs allows you to create web-based applications.

In this lab, you will explore Enterprise Connectivity via REST Web Services using Informatica
Cloud REST Connector.

Objective:
? Create a REST connection using the REST V2 connector

? Get the JSON message and write it to a Flat File

Duration:
30 minutes



Tasks:
Copy Source File:

 Copy the Swagger_api_openweathermap_org_072248.json file provided with this lab
and place the file in your flat file directory (C:\IICSLabFiles).



Signup to Access OpenWeatherAPI:
 Open a web browser and enter the following URL.

https://home.openweathermap.org/users/sign_up
Note: You can bookmark this link for future use.

 To create a new account in OpenWeather, enter your username, e-mail, and password
on the Create New Account page.


Note: After you create an account, you can access your unique API key.

Module 13: Hierarchical Connectivity  357

  



  
 

 


 To access your unique API Key, select API Keys tab, and copy the API key from the
Key field.


 Paste the API key in a notepad and save the notepad file to a suitable location on your

system.




Enable REST V2 Connector:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

358  Module 13: Hierarchical Connectivity

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Administrator.



Module 13: Hierarchical Connectivity  359

  



  
 

 


 From the Navigation pane, select Add-On Connectors.


 Scroll-down and locate REST V2 Connector.
 To enable the REST V2 Connector, click Free Trail.


Note: The Connector Free Trial window appears.
 Click OK.



360  Module 13: Hierarchical Connectivity

  



  
 

 


Create REST Connection:
 From the Navigation pane, select Connections.


 To create a new connection, select New Connection.


 In the Name field, enter XX_FirstName_OpenWeather_RESTv2.
 From the Type drop-down, select REST V2 (Informatica Cloud).


 From the Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.

Module 13: Hierarchical Connectivity  361

  



  
 

 


 From the Authentication drop-down, select RESTv2.


Note: The RESTv2 Connection Properties section appears.
 Verify that the Authentication Type is set to NONE.
 In the Swagger File Path field, enter the following path of the json file
(C:\IICSLabFiles\Swagger_api_openweathermap_org_072248.json).
 Verify that the Proxy Type is selected as Platform Proxy.


 To test the connection, click Test Connection.


Note: A message The test for this connection was successful appears.

362  Module 13: Hierarchical Connectivity

  



  
 

 


 To save the connection, click Save.




Create Mapping:
 To switch between the available services, from the toolbar, select the current service
Administration.


Note: The My Services window appears.
 From the My Services window, select Data Integration.



Module 13: Hierarchical Connectivity  363

  



  
 

 


 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab, and select Mapping.
 Click Create.


Note: The Mapping page appears.

364  Module 13: Hierarchical Connectivity

  



  
 

 


 In the Name field, enter XX_FirstName_REST_GetWeather_By_City.


 To configure the source, from the mapping canvas, click the Source transformation.
 In the General section of Source properties, retain the Name as Source.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_OpenWeather_RESTv2.
 From the Operation field, click Select.


Note: The Select Operation window appears.
 Select get and click OK.



Module 13: Hierarchical Connectivity  365

  



  
 

 


 Expand the Query Options section and click Configure.


Note: The Edit Request Message window appears.
 Expand the Request Message Template section and copy all the contents from the
field.
 Paste the copied contents in the Request Message field.


 In the Request Message field, in between <AppID> </AppID>, enter the unique API Key
that you saved in the notepad file in step 5.
 In the Request Message field, in between <q> </q>, enter London.
Example:
  <AppID>
    12c898cbe4d116dd6da26573d2e7e21e
  </AppID>
  <q>
      London
   </q>

366  Module 13: Hierarchical Connectivity

  



  
 

 




 To validate the message, click .
Note: A message appears that the Request is valid.
 Click OK.


 From the properties pane, click Field Mapping.

Module 13: Hierarchical Connectivity  367

  



  
 

 


 From the Element Name section, select root, and select Map all descendants.


 Link Source to Target.


Note: A Select Output Group window appears.
 Select root and click OK.


 To configure the target, from the mapping canvas, click the Target transformation.

368  Module 13: Hierarchical Connectivity

  



  
 

 


 In the General section of Target properties, retain Name as Target.


 From the properties pane, click Target.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from Object field, click Select.


Note: The Target Object window appears.
 In the Target Object window, select Create New at Runtime.
 Enter WeatherByCity.csv as File Name.
 Click OK.



Module 13: Hierarchical Connectivity  369

  



  
 

 


 To save the mapping, click Save.


 To run the mapping, click Run.


Note: The Run mapping window appears.
 From Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in format CDI-XX-FIRSTNAME.
 Click Run.




370  Module 13: Hierarchical Connectivity

  



  
 

 


Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


 On your local machine, go to C:\IICSLabFiles.
 Verify that the WeatherByCity.csv file contains 1 row and weather details of London.





This concludes the lab.


Module 13: Hierarchical Connectivity  371

  



  
 

 




372  Module 13: Hierarchical Connectivity

  



  
 

 

Module 13: Hierarchical Connectivity
Lab 13-2: Using Web Services Transformation in a Mapping
Overview:
A web service is a system software that enables machine-to-machine interaction over a
network. It makes application, platform, and technology independent.

In this lab, you will convert a list of numbers in dollar format data using IICS mappings.

Objective:
? Use Web Services transformation in a mapping

Duration:
30 minutes



Tasks:
Copy Source File:

 Copy the Input.txt file provided with this lab and place the file in your flat file directory
(C:\IICSLabFiles).



Create Business Service:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 13: Hierarchical Connectivity  373

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



374  Module 13: Hierarchical Connectivity

  



  
 

 


 From the Navigation pane, select New.


 From the New Asset window, click the Components tab.
 Select Business Services and click Create.


Note: The Business Service page appears.

 In the Name field, enter XX_FirstName_NumberConversion.



Module 13: Hierarchical Connectivity  375

  



  
 

 


 To create a new connection, click New.


Note: The New Connection window appears.
 In the Name field, enter XX_FirstName_WSConnection.
Note: XX refers to your initials, and FirstName refers to your First Name.
 From the Type drop-down, select WSConsumer.


Note: The WSConsumer Connection Properties section appears.
 From the Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in CDI-XX-FIRSTNAME format.
 From Authentication drop-down, select Other Authentication.


Note: The Other Authentication Connection Properties section appears.
 In the WSDL URL field, enter the following URL:
http://www.dataaccess.com/webservicesserver/numberconversion.wso?WSDL
OR
Open the file named 26_LabGuide_UsingWebServicesTransformation_13-2 provided
with this lab. Copy the URL mentioned under Step 14 and paste it in the WSDL URL
field.
 In the Endpoint URL field, enter the following URL:
http://www.dataaccess.com/webservicesserver/numberconversion.wso
OR
Open the file named 26_LabGuide_UsingWebServicesTransformation_13-2 provided
with this lab. Copy the URL mentioned under Step 15 and paste it in the Endpoint URL
field.


376  Module 13: Hierarchical Connectivity

  



  
 

 


 Click OK.


Note: This action redirects you to Business Service page.
 From the Connection drop-down, select XX_FirstName_WSConnection.
Note: Skip this step if the created connection is already selected.
 To add an operation, click Select Operation.


Note: The Select Operation window appears.

Module 13: Hierarchical Connectivity  377

  



  
 

 


 To select source operation, click Select.


Note: The Source Operation window appears.
 From the list, select NumberToDollars.
 Click Select.


Note: This action redirects you to Select Operation window.
 Click OK.



378  Module 13: Hierarchical Connectivity

  



  
 

 


 Click Configure to set the request, response, and fault parameters.


Note: The Configure Operation window appears.
 View all the parameters in the Request, Response, and Fault tabs and click OK.


Note: This action redirects you to Business Service page.
 To save the business service, click Save.




Module 13: Hierarchical Connectivity  379

  



  
 

 


Create Mapping:
 From the Navigation pane, select New.



 From the New Asset window, click the Mappings tab, and select Mapping.
 Click Create.


Note: The Mapping page appears.

380  Module 13: Hierarchical Connectivity

  



  
 

 


 In the Name field, enter XX_FirstName_WebServices.


 To configure the source, from the mapping canvas, click the Source transformation.


 In the General section of Source properties, retain the Name as Source.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select Input.txt.

Module 13: Hierarchical Connectivity  381

  



  
 

 


 Click OK.




Add Web Services Transformation:
 Drag and drop the Web Services transformation between the source and target.


Note: The Source transformation gets linked to the Web Service transformation.
 Select the WebServices transformation on the mapping canvas.

382  Module 13: Hierarchical Connectivity

  



  
 

 


 In the General section of the WebServices properties, retain the Name as
WebServices.


 From the properties pane, click Web Service.
 To select the business service, click Select.


Note: The Select Business Service window appears.
 Navigate to Default and select XX_FirstName_NumberConversion.
 Click Select.


 From the Operation drop-down, select NumberToDollars.



Module 13: Hierarchical Connectivity  383

  



  
 

 


 From the properties pane, click Request Mapping.


 From the Request Structure section, drill-down to Body > NumberToDollars > dNum.


 To map the fields, drag the Number incoming field and drop it on dNum.


 From the properties pane, click Response Mapping.
 From the Envelope drop-down, select Map all descendants.




384  Module 13: Hierarchical Connectivity

  



  
 

 


Add a Target Transformation:
 Drag and drop Target transformation on the mapping canvas.


 Select the added Target transformation (Target 1) on the mapping canvas.
 Link the WebServices to Target1.


Note: The Select Output Group window appears.
 From the list, select Envelope.
 Click OK.



Module 13: Hierarchical Connectivity  385

  



  
 

 


 In the General section of Target properties, enter Name as SuccessTarget.


 From the properties pane, click Target.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 In the Target Object window, select Create New at Runtime.
 Enter SuccessResponse.csv as File Name.
 Click OK.



386  Module 13: Hierarchical Connectivity

  



  
 

 


 Now, link WebServices to Target.


Note: The Select Output Group window appears.
 From the list, select FaultGroup.
 Click OK.


 Select Target transformation on the mapping canvas.
 In the General section of Target properties, enter Name as FaultTarget.


 From the properties pane, click Target.

Module 13: Hierarchical Connectivity  387

  



  
 

 


 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 In the Target Object window, select Create New at Runtime.
 Enter FaultResponse.csv as File Name.
 Click OK.


 To save the mapping, click Save.



388  Module 13: Hierarchical Connectivity

  



  
 

 


 To run the mapping, click Run.


Note: The Run mapping window appears.
 From the Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in CDI-XX-FIRSTNAME format.
 Click Run.






Module 13: Hierarchical Connectivity  389

  



  
 

 


Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


 On your local machine, go to C:\IICSLabFiles.
 Verify that 6 rows are written to the SuccessResponse.csv, and that the
FaultResponse.csv file contains 0 rows.



390  Module 13: Hierarchical Connectivity

  



  
 

 








This concludes the lab.


Module 13: Hierarchical Connectivity  391

  



  
 

 




392  Module 13: Hierarchical Connectivity

  



  
 

 

Module 13: Hierarchical Connectivity
Lab 13-3: Creating a mapping using Hierarchy Parser
Transformation
Overview:
Hierarchy Parser Transformation converts hierarchical input into relational output.

In this lab, you will create a mapping using Hierarchy Parser Transformation and convert the
Hierarchical Schema into a flat schema.

Objective:
? Import a hierarchical schema

? Create a mapping using Hierarchy Parser transformation

Duration:
30 minutes



Tasks:
Copy Source Files:

 Copy emp.xsd and Source.xml files provided with this lab and place the files in your flat
file directory (C:\IICSLabFiles).



Create File:
 Create a text file (Src.txt) in your flat file directory, and in that text file, type the location

of your Source XML file in the format shown below.




Create Hierarchical Schema:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.

Module 13: Hierarchical Connectivity  393

  



  
 

 



Note: Follow this step, if you have navigated away from the login page.

 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



394  Module 13: Hierarchical Connectivity

  



  
 

 


 From the Navigation pane, select New.


 From the New Asset window, click the Components tab.
 Select Hierarchical Schema and click Create.


Note: The Hierarchical Schema page appears.

 In the Name field, enter XX_FirstName_Emp.


Module 13: Hierarchical Connectivity  395

  



  
 

 


 To upload the schema file, click Upload.


Note: The Upload Schema/Sample File window appears.
 To navigate to xsd file, click Choose File, and select emp.xsd that you copied in your
flat file directory.


 Click OK.



396  Module 13: Hierarchical Connectivity

  



  
 

 


 In the Schema Root drop-down, retain root.
 To save the schema, click Save.




Create a Mapping:
 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab, and select Mapping.
 Click Create.


Note: The Mapping page appears.

Module 13: Hierarchical Connectivity  397

  



  
 

 


 In the Name field, enter XX_FirstName_Employees.


Note: XX refers to your initials, and FirstName refers to your First Name.
 To configure the source, from the mapping canvas, click the Source transformation.


 In the General section of the Source properties, enter the Name as Src.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select Src.txt.

398  Module 13: Hierarchical Connectivity

  



  
 

 


 Click OK.




Add a Hierarchy Parser Transformation:
 Drag and drop Hierarchy Parser between Src and Target transformations.


 Select Hierarchy Parser transformation on the mapping canvas.

Module 13: Hierarchical Connectivity  399

  



  
 

 


 In the General section of the Hierarchy Parser properties, enter Name as X2R.


 From the properties pane, click Input Settings.
 To select the schema, click Select.


Note: The Select Schema window appears.
 Navigate to Default and select XX_FirstName_Emp.
 Click Select.


 For Input Type field, select File.



400  Module 13: Hierarchical Connectivity

  



  
 

 


 Link Src to X2R.


 Select X2R on the mapping canvas.
 From the properties pane, click Input Field Selection.
 To map the Incoming field with the Hierarchical Schema Input field, drag and drop the
Path field onto the Input field.


 From the properties pane, click Field Mapping.

 From the Schema Structure section, click .



Module 13: Hierarchical Connectivity  401

  



  
 

 


 From the Element Name list, select Employeeid, Firstname, and Lastname.


 From the address drop-down, select Map immediate children.


Note: Observe that the Relational table Fields are populated with the automatically
generated fields.
 From the properties pane, click Output Fields.

402  Module 13: Hierarchical Connectivity

  



  
 

 


 Observe that 11 fields are present based on the fields that you have mapped.


 Link X2R with Target.


Note: The Select Output Group window appears.
 Select Emp_Details.
 Click OK.


 To configure the target, from the mapping canvas, click the Target transformation.

Module 13: Hierarchical Connectivity  403

  



  
 

 


 In the General section of Target properties, enter Name as Tgt_EmpDetails.


 From the properties pane, click Target.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 On the Target Object window, select Create New at Runtime.
 Enter Formatted_data.csv as File Name.
 Click OK.



404  Module 13: Hierarchical Connectivity

  



  
 

 


 To save the mapping, click Save.


 To run the mapping, click Run.


Note: The Run mapping window appears.

 From the Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in CDI-XX-FIRSTNAME format.

 Click Run.






Module 13: Hierarchical Connectivity  405

  



  
 

 


Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.




Verify Results:
 Navigate to C:\IICSLabFiles and verify that 2 rows are written to Formatted_data.csv.





This concludes the lab.

406  Module 13: Hierarchical Connectivity

  



  
 

 

Module 13: Hierarchical Connectivity
Lab 13-4: Creating a mapping using Hierarchy Builder
Transformation
Overview:
Hierarchy Builder Transformation converts input data into a hierarchical output using a schema
file.

In this lab, you will create a mapping using Hierarchy Builder transformation, and convert
multiple flat files into an xml file.

Objective:
? Import a hierarchical schema

? Create a mapping using Hierarchy Builder transformation

Duration:
20 minutes



Tasks:
Copy Source Files:

 Copy the following files provided with this lab and place the file in your flat file directory
(C:\IICSLabFiles).

Files

root.csv

quiz.csv

question_options.csv

questions.csv

quiz_schema.json




Module 13: Hierarchical Connectivity  407

  



  
 

 


Create Hierarchical Schema:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

 Enter your login credentials and click Log In.



408  Module 13: Hierarchical Connectivity

  



  
 

 


 From the My Services window, select Data Integration.


 From the Navigation pane, select New.


 From the New Asset window, click the Components tab.

Module 13: Hierarchical Connectivity  409

  



  
 

 


 Select Hierarchical Schema and click Create.


Note: The Hierarchical Schema page appears.

 In the Name field, enter XX_FirstName_QuizSchema.
 To upload the json file containing the schema, click Upload.


Note: The Upload Schema/Sample File window appears.
 To navigate to the json file, click Choose File.

410  Module 13: Hierarchical Connectivity

  



  
 

 


 Select the quiz_schema.json.file that you copied into your flat file directory.


 Click OK.


 To save the schema, click Save.




Module 13: Hierarchical Connectivity  411

  



  
 

 


Create Mapping:
 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab, and select Mapping.
 Click Create.


Note: The Mapping page appears.

412  Module 13: Hierarchical Connectivity

  



  
 

 


 In the Name field, enter XX_FirstName_HierarchyBuilder.


 To configure the source, from the mapping canvas, click the Source transformation.
 In the General section of the Source properties, enter the Name as Src_Root.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select root.csv.

Module 13: Hierarchical Connectivity  413

  



  
 

 


 Click OK.




Add Source Transformation:
 From the list of available transformations, drag and drop Source transformation on to
the mapping canvas.


 To configure the source, from the mapping canvas, click the newly added Source
transformation.

414  Module 13: Hierarchical Connectivity

  



  
 

 


 In the General section of the Source properties, enter the Name as Src_Quiz.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select quiz.csv.
 Click OK.




Module 13: Hierarchical Connectivity  415

  



  
 

 


Add Source Transformation:
 From the list of available transformations, drag and drop Source transformation on the
mapping canvas.


 To configure the source, from the mapping canvas, click the newly added Source
transformation.
 In the General section of the Source properties, enter the Name as Src_Question.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.

416  Module 13: Hierarchical Connectivity

  



  
 

 


 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select questions.csv.
 Click OK.






Module 13: Hierarchical Connectivity  417

  



  
 

 


Add Source Transformation:
 From the list of available transformations, drag and drop Source transformation on the
mapping canvas.


 To configure the source, from the mapping canvas, click the newly added Source
transformation.
 In the General section of the Source properties, enter the Name as
Src_QuestionOption.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.

418  Module 13: Hierarchical Connectivity

  



  
 

 


 From the list, select question_options.csv.
 Click OK.




Add Hierarchy Builder Transformation:
 From the list of available transformations, drag, and drop Hierarchy Builder
transformation on the mapping canvas.


 Select the Hierarchy Builder transformation on the mapping canvas.

Module 13: Hierarchical Connectivity  419

  



  
 

 


 In the General section of the Hierarchy Builder properties, retain the Name as
HierarchyBuilder.


 From the properties pane, click Output Settings.
 To select the Schema, click Select.


Note: The Select Schema window appears.
 Navigate to Default and select XX_FirstName_QuizSchema.
 Click Select.


 To delete the link between Src_Root and Target, click on the link.

420  Module 13: Hierarchical Connectivity

  



  
 

 


 Click .


 Link all the Source transformations with the Hierarchy Builder transformation.



Module 13: Hierarchical Connectivity  421

  



  
 

 


 Select the Hierarchy Builder transformation on the mapping canvas.


 From the properties pane, click Field Mapping.

 From the Relational Fields section, click .


 Assign keys to the fields, as shown in the table below:

Field Key   Related Group

PK_root Primary Key

PK_quiz Primary Key

FK_root Foreign Key Src_Root

PK_questions Primary Key

FK_quiz Foreign Key Src_Quiz

FK_questions Foreign Key Src_Question
Note: To assign keys, from the key column, click the Key icon. A Mark as Key window
appears. In the Mark as key window, select the key. Select the Related Group from the
drop-down.

422  Module 13: Hierarchical Connectivity

  



  
 

 


 After assigning the key, the Relational Fields section looks as shown below.



 From the Hierarchy Fields section, click .


 Drag and drop Relational fields in Hierarchy Field column, to match the fields as shown
in the below tables:
For root:

 Incoming Field Target Field


Src_Root > root root > properties > root > type







Module 13: Hierarchical Connectivity  423

  



  
 

 


For quiz:

Incoming Field Target Field


Src_Quiz > category root > properties > root > quiz > itemsArray > items >
properties > category > type



For questions:

Incoming Field Target Field


Src_Question > question root > properties > root > quiz > itemsArray > items >


properties > category > questions > itemsArray >
 items > properties > question > type







424  Module 13: Hierarchical Connectivity

  



  
 

 


For options:

Incoming Field Target Field


Src_QuestionOption >  root > properties > root > quiz > itemsArray > items >


options properties > category > questions > itemsArray >
items > properties > question > options > itemsArray
> items > type





For answer:

Incoming Field Target Field


Src_Question >  root > properties > root > quiz > itemsArray > items >


answer properties > category > questions > itemsArray >
items > properties > question > options > itemsArray
> items > answer > type







Module 13: Hierarchical Connectivity  425

  



  
 

 


 Link Hierarchy Builder with Target.


 To configure the target, from the mapping canvas, click the Target transformation.
 In the General section of Target properties, enter Name as Tgt_HierarchyBuilder.


 From the properties pane, click Target.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 On the Target Object window, select Create New at Runtime.

426  Module 13: Hierarchical Connectivity

  



  
 

 


 Enter Hierarchy_Builder.xml as File Name.


 Select Formatting Options.


Note: The Formatting Options window appears.
 For Delimiter field, select other, and enter a period (.).
 Select Text Qualifier as None.
 Click OK.


Note: This action redirects you to Target Object window.

Module 13: Hierarchical Connectivity  427

  



  
 

 


 Click OK.


 From the target properties, expand Advanced section.


 From Header Options drop-down, select No Header.



428  Module 13: Hierarchical Connectivity

  



  
 

 


 To save the mapping, click Save.


 To run the mapping, click Run.


Note: The Run mapping window appears.

 From the Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in CDI-XX-FIRSTNAME format.

Module 13: Hierarchical Connectivity  429

  



  
 

 


 Click Run.




Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


Note: Observe that 1 success row is processed.

 On your local machine, go to C:\IICSLabFiles.

430  Module 13: Hierarchical Connectivity

  



  
 

 


 Verify the contents of Hierarchy_Builder.xml file.





This concludes the lab.


Module 13: Hierarchical Connectivity  431

  



  
 

 




432  Module 13: Hierarchical Connectivity

  



  
 

 

Module 14: Intelligent Structure Model
Lab 14-1: Creating an Intelligent Structure Model
Overview:
An Intelligent Structure Model is a service that determines the underlying patterns of the sample
file and creates a model to transform, parse, and generate output groups.

In this lab, you will create an Intelligent Structure Model for a flat file.

Objective:
? Create Intelligent Structure Model

Duration:
10 minutes



Tasks:
Copy Source Files:

 Copy the StructureModel.txt file provided with this lab and place the file in your flat file
directory (C:\IICSLabFiles).



Create Intelligent Structure Model:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 14: Intelligent Structure Model  433

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



434  Module 14: Intelligent Structure Model

  



  
 

 


 From the Navigation pane, select New.


 From the New Asset window, click the Components tab.
 Select Intelligent Structure Model and click Create.


Note: The Intelligent Structure Model page appears.

 In the Name field, enter XX_FirstName_StructureModel.



Module 14: Intelligent Structure Model  435

  



  
 

 


 To upload a sample file, from the Sample File section, click .


 Navigate and select the StructureModel.txt file that you copied into your flat file
directory.


 To discover the structure of the sample file, click Discover Structure.


Note: You must wait for the structure discovery process to complete.

436  Module 14: Intelligent Structure Model

  



  
 

 


 View all the representations of the discovered model.




 To save the Intelligent Structure Model, click Save.






This concludes the lab.


Module 14: Intelligent Structure Model  437

  



  
 

 




438  Module 14: Intelligent Structure Model

  



  
 

 

Module 14: Intelligent Structure Model
Lab 14-2: Using Structure Parser transformation in a mapping
Overview:
The Structure Parser transforms input data into a user defined structure format that is based on
an intelligent structure model.

In this lab, you will create a mapping using Structure Parser Transformation to separate valid
and invalid entries.

Objective:
? Create a mapping using Structure Parser transformation

Duration:
25 minutes



Tasks:
Copy Source Files:

 Copy StructureParser.txt file provided with this lab and place the files in your flat file
directory (C:\IICSLabFiles).



Create File:
 Create a text file (ParserInput.txt) in your flat file directory, and in that text file, type the

location of your Source file (C:\IICSLabFiles\StructureParser.txt) in the format shown
below.






Module 14: Intelligent Structure Model  439

  



  
 

 


Create Mapping:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

 Enter your login credentials and click Log In.



440  Module 14: Intelligent Structure Model

  



  
 

 


 From the My Services window, select Data Integration.


 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab, and select Mapping.

Module 14: Intelligent Structure Model  441

  



  
 

 


 Click Create.


Note: The Mapping page appears.

 In the Name field, enter XX_FirstName_StructureParser.


Note: XX refers to your initials, and FirstName refers to your First Name.
 To configure the source, from the mapping canvas, click the Source transformation.



442  Module 14: Intelligent Structure Model

  



  
 

 


 In the General section of Source properties, enter the Name as Src.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select ParserInput.txt.
 Click OK.



Module 14: Intelligent Structure Model  443

  



  
 

 


Add Structure Parser Transformation:
 Drag and drop Structure Parser on the link between Src and Target transformations.


Note: The link between Src and Target deletes automatically after you drop the
Structure Parser transformation on the link.
 Select Structure Parser transformation on the mapping canvas.
 In the General section of the Hierarchy Parser properties, retain the Name as
StructureParser.


 From the properties pane, click Structure Parser.
 To select the Intelligent Structure Model, click Select.


Note: The Select Intelligent Structure Model window appears.
 Navigate to Default and select XX_FirstName_StructureModel.

444  Module 14: Intelligent Structure Model

  



  
 

 


 Click Select.


 Link Src to StructureParser.
 Select StructureParser on the mapping canvas.


 From the properties pane, click Field Mapping.
 To map the Incoming field with the Structure Parser Input field, drag and drop the Path
field onto the FilePath field.


Note: Skip this step if the field is already mapped.
 Link StructureParser with Target.
Note: The Select Output Group window appears.

Module 14: Intelligent Structure Model  445

  



  
 

 


 Select element and click OK.


 To configure the target, from the mapping canvas, click the Target transformation.


 In the General section of Target properties, enter Name as Tgt_Parsed.


 From the properties pane, click Target.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.

446  Module 14: Intelligent Structure Model

  



  
 

 


 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 On the Target Object window, select Create New at Runtime.
 Enter ParsedData.txt as File Name.
 Click OK.




Add Target Transformation:
 Drag and drop a Target transformation on the mapping canvas.


 Link the StructureParser to Target.
Note: The Select Output Group window appears.

Module 14: Intelligent Structure Model  447

  



  
 

 


 From the list, select Unidentified and click OK.


 Select the added Target transformation on the mapping canvas.


 In the General section of the Target properties, enter Name as Tgt_Unparsed.


 From the properties pane, click Target.

448  Module 14: Intelligent Structure Model

  



  
 

 


 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.
 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 In the Target Object window, select Create New at Runtime.
 Enter the file name as UnparsedData.txt.
 Click OK.


 To save the mapping, click Save.



Module 14: Intelligent Structure Model  449

  



  
 

 


 To run the mapping, click Run.


Note: The Run mapping window appears.
 From the Runtime Environment drop-down, select your secure agent group.


Note: The Runtime Environment name will be in CDI-XX-FIRSTNAME format.

450  Module 14: Intelligent Structure Model

  



  
 

 


 Click Run.




Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.






Module 14: Intelligent Structure Model  451

  



  
 

 


Verify Results:
 Go to C:\IICSLabFiles.
 Verify that correct entries are written to the ParsedData.txt and UnparsedData.txt files.







This concludes the lab.

452  Module 14: Intelligent Structure Model

  



  
 

 

Module 15: IICS APIs
Lab 15-1: Running a Mapping Task using REST API
Overview:
API Connector uses the REST API to access programs and activities in Informatica Cloud, and
also to perform various tasks.

In this lab, you will use REST API to login to Informatica Cloud Org and obtain a Session ID. The
Session ID allows you to run a Synchronization task.

Objective:
? Use a REST client application to call the login resource and obtain a session ID

? Start a Mapping task

? Log out of the Informatica Cloud API session

Duration:
30 minutes



Tasks:
Install Postman:

 Open a web browser and enter the following URL.
https://www.getpostman.com/downloads/
Note: You can bookmark this link for future use.

 Download the Windows 64-bit application.


 Go to the Downloads directory on your local machine and locate the installation file.

Module 15: IICS APIs  453

  



  
 

 


 To install Postman, double-click the downloaded executable file Postman-win64-7.2.2-
Setup.exe.


 When the postman is installing, it displays the postman window.


Note: After the installation is complete, the Postman application window appears.

 On the sign up window, select Skip signing in and take me straight to the app.



454  Module 15: IICS APIs

  



  
 

 


 Close the launch window.




Send Login Request:
 From the drop-down, select POST.
 Enter the following URL in the request URL field:

https://dm-us.informaticacloud.com/ma/api/v2/user/login
OR
Open the file named 31_LabGuide_RunningMappingTaskUsingRESTAPI_15
provided with this lab. Copy the URL mentioned under Step 9 and paste it in the request
URL field.



Module 15: IICS APIs  455

  



  
 

 


 Select the Headers tab.


 Enter Key and Value, as shown in the table below:

Key Value

Content-Type application/json

Accept application/json


 Select Body tab and select raw.



456  Module 15: IICS APIs

  



  
 

 


 Enter the syntax mentioned below.
Note: In this syntax, username is your Informatica Cloud Username and password is
your Informatica Cloud Password.
{ "username":"< Informatica Cloud username>", "password":"< Informatica Cloud
password>"}
OR
Open the file named 31_LabGuide_RunningMappingTaskUsingRESTAPI_15
provided with this lab. Copy the syntax mentioned under Step 13 and paste it in the
Body field.


Note: The username and password will vary from user to user. For this lab, we have
hidden the password.
 To view the response, click Send.


 The status of the response is 200 OK.
 Examine the details in the response.


Note: From the response, note down the value for icSessionId in a notepad for future
use.

Module 15: IICS APIs  457

  



  
 

 


Send Request to run a job:

 To add a new tab, click .
 From the drop-down, select POST.
 Enter the following URL in the request URL field:
https://na1.dm-us.informaticacloud.com/saas/api/v2/job
OR
Open the file named 31_LabGuide_RunningMappingTaskUsingRESTAPI_15
provided with this lab. Copy the URL mentioned under Step 19 and paste it in the
request URL field.


 Select the Headers tab.


 Enter Key and Value, as shown in the table below:

Key Value

Accept application/json

Content-Type application/json

Enter the icSessionId that you
icSessionId

noted in step 16



458  Module 15: IICS APIs

  



  
 

 


 Select Body tab and select raw.
 Enter the following syntax:
{
"@type":"job",
"taskName":"XX_NormalizerAggregator_Task",
"taskType":"MTT"
}
OR
Open the file named 31_LabGuide_RunningMappingTaskUsingRESTAPI_15
provided with this lab. Copy the syntax mentioned under Step 23 and paste it in the
Body field.


Note: The taskname should be exactly same as the taskname in IICS.
 To view the response, click Send.




Module 15: IICS APIs  459

  



  
 

 


 The status of the response is 200 OK.


 Access your cloud trial account by clicking Launch in your option Menu. If the option
menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


 Enter your login credentials to login to your Informatica Cloud Org.
 From the My Services window, select Monitor.



460  Module 15: IICS APIs

  



  
 

 


 From the Navigation pane, select All Jobs.


 Open the XX_NormalizerAggregator_Task and verify that the task is started by API.






Send Request to Logout:

 In Postman, to add new tab, click .
 From the drop-down, select POST.
 Enter the following URL in the request URL field:
https://na1.dm-us.informaticacloud.com/saas/api/v2/user/logout
OR



Module 15: IICS APIs  461

  



  
 

 


Open the file named 31_LabGuide_RunningMappingTaskUsingRESTAPI_15
provided with this lab. Copy the URL mentioned under Step 33 and paste it in the
request URL field.


 Select the Headers tab.


 Enter Key and Value, as shown in the table below.

Key Value

Accept application/json

Content-Type application/json

Enter the icSessionId that you
icSessionId

noted in step 16

462  Module 15: IICS APIs

  



  
 

 



 Select Body tab and select raw.
 Enter the following syntax:
{"@type":"logout"}
OR
Open the file named 31_LabGuide_RunningMappingTaskUsingRESTAPI_15
provided with this lab. Copy the syntax mentioned under Step 37 and paste it in the
Body field.


 To view the response, click Send.


 The status of the response is 200 OK.

Module 15: IICS APIs  463

  



  
 

 



Note: There is no response in body for logout request.



This concludes the lab.

464  Module 15: IICS APIs

  



  
 

 

Module 16: Exception Handling
Lab 16-1: Creating a Mapping to Handle Non-fatal Errors
Overview:
IICS offers various functions to handle non-fatal errors.

In this lab, you will create a mapping, and use error handling functions in the mapping.

Objective:
? Configure a mapping to handle non-fatal errors

Duration:
35 minutes



Tasks:
Copy Source Files:

 Copy the following files provided with this lab and place the file in your flat file directory
(C:\IICSLabFiles).

Files

Error Handling.csv

Valid_Data.csv

Invalid_Data.csv



Create Mapping:
 Access your cloud trial account by clicking Launch in your option Menu. If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 16: Exception Handling  465

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



466  Module 16: Exception Handling

  



  
 

 


 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab.
 Select Mapping and click Create.


Note: The Mapping page appears.

Module 16: Exception Handling  467

  



  
 

 


 In the Name field, enter XX_FirstName_ErrorHandling.


 To configure the source, from the mapping canvas, click the Source transformation.


 In the General section of the Source properties, retain the Name as Source.


 From the properties pane, click Source.
 To create a new connection parameter, click New Parameter.


Note: The New Parameter window appears.
 Enter Name as P_Src_Connection.

468  Module 16: Exception Handling

  



  
 

 


 Click OK.


 From the Source Type drop-down, select Parameter.
 To create a new parameter, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_Src_Object.

Module 16: Exception Handling  469

  



  
 

 


 Click OK.




Add Expression Transformation:
 Drag and drop an Expression transformation between Source and Target.



470  Module 16: Exception Handling

  



  
 

 


 From the mapping canvas, select Expression.


 In the General section of the Expression properties, enter Name as Exp_Validation.


 From the properties pane, click Expression.

 To add a new expression, click .


Note: The New Field window appears.
 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Output Field Valid_Not_Valid integer 10 0

 Click OK.



Module 16: Exception Handling  471

  



  
 

 


 To configure the expression, click Configure.


Note: The Field Expression window appears.
 From the Expression drop-down, select Parameterized.
 To add a new parameter, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_Valid_Exp.
 Click OK.


Note: This action redirects you to the Field Expression window.

472  Module 16: Exception Handling

  



  
 

 


 Click OK.




Add Router Transformation:
 Drag and drop a Router transformation on the link between Exp_Validation and Target.


 From the mapping canvas, select Router.


 In the General section of the Router properties, enter Name as Valid_Invalid.


 From the properties pane, click Output Groups.

Module 16: Exception Handling  473

  



  
 

 


 To add an output group, click .


Note: You cannot edit the DEFAULT1 group.
 In the Group Name field, enter the name as Invalid_Records.
 To configure the output group, click Configure.


Note: The Edit Filter Condition for Invalid_Records appears.
 Retain Filter Condition as Simple.

 To add a filter condition, click .


 Enter the filter condition, as shown in the table below.

Field Name Operator Value

Valid_Not_Valid =  1

474  Module 16: Exception Handling

  



  
 

 


 Click OK.




 To add an output group, click .


 In the Group Name field, enter another group name as Valid_Records.
 To configure the output group, click Configure.


Note: The Edit Filter Condition for Valid_Records appears.
 Retain Filter Condition as Simple.

Module 16: Exception Handling  475

  



  
 

 


 To add a filter condition, click .


 Enter the filter condition, as shown in the table below.

Field Name Operator Value

Valid_Not_Valid != 1

 Click OK.



 In the mapping canvas, for the router transformation, click .



476  Module 16: Exception Handling

  



  
 

 


 To delete the link between DEFAULT1 and Target, click on the link, and click .


 Link Invalid_Records with the Target transformation.


 To configure the target, from the mapping canvas, click the Target transformation.


 In the General section of the Target properties, enter Name as Tgt_Invalid.


 From the properties pane, click Target.

Module 16: Exception Handling  477

  



  
 

 


 To create a new connection parameter, click New Parameter.


Note: The New Parameter window appears.
 Enter Name as P_Tgt_Connection_Invalid.
 Click OK.


 From the Target Type drop-down, select Parameter.

478  Module 16: Exception Handling

  



  
 

 


 To create a new parameter, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_Tgt_Invalid_Object.
 Click OK.


 Retain Operation as Insert.


 From the properties pane, click Field Mapping.

Module 16: Exception Handling  479

  



  
 

 


 From the Field map options drop-down, select Completely Parameterized.


 To create a new parameter, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_Field_Map_Invalid.
 Click OK.




480  Module 16: Exception Handling

  



  
 

 


Add Target Transformation:
 Drag and drop the Target transformation on to the mapping canvas.


 To configure the target, from the mapping canvas, click the Target transformation.


 In the General section of Target properties, enter Name as Tgt_Valid.


 Link Valid_Records with Tgt_Valid.



Module 16: Exception Handling  481

  



  
 

 


 To configure the target, from the mapping canvas, click the Tgt_Valid transformation.


 From the properties pane, click Target.
 To create a new connection parameter, click New Parameter.


Note: The New Parameter window appears.
 Enter Name as P_Tgt_Connection_Valid.
 Click OK.



482  Module 16: Exception Handling

  



  
 

 


 From the Target Type drop-down, select Parameter.
 To create a new parameter, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_Tgt_Object_Valid.
 Click OK.


 Retain Operation as Insert.


 From the properties pane, click Field Mapping.

Module 16: Exception Handling  483

  



  
 

 


 From the Field map options drop-down, select Completely Parameterized.


 To create a new parameter, click New Parameter.


Note: The New Input Parameter window appears.
 Enter Name as P_Field_Map_Valid.
 Click OK.



484  Module 16: Exception Handling

  



  
 

 


 To save the mapping, click Save.




Create Mapping Task:
 From the Navigation pane, select New.



Module 16: Exception Handling  485

  



  
 

 


 In the New Asset window, select Mapping Task and click Create.


 In the Task Name field, enter XX_ErrorHandling_Task.
 From the Runtime Environment drop-down, select your secure agent group.


Note: The Runtime Environment name will be in CDI-XX-FIRSTNAME format.

486  Module 16: Exception Handling

  



  
 

 


 To select the mapping, click Select.


Note: The Select a Mapping window appears.
 From the list, select XX_FirstName_ErrorHandling.
 Click Select.



Module 16: Exception Handling  487

  



  
 

 


 Click Next.


 From the P_Src_Connection Connection drop-down, select
XX_FirstName_LocalCSVFiles.
 To select a source object, from the P_Src_Object Object drop-down, select Error
Handling.csv.


 Click Next.


 From the P_Tgt_Connection_Invalid Connection drop-down, select
XX_FirstName_LocalCSVFiles.

488  Module 16: Exception Handling

  



  
 

 


 From the P_Tgt_Invalid_Object Object drop-down, select Invalid_Data.csv.


 From the P_Tgt_Connection_Valid Connection drop-down, select
XX_FirstName_LocalCSVFiles.
 From the P_Tgt_Object_Valid Object drop-down, select Valid_Data.csv.


 Click Next.



Module 16: Exception Handling  489

  



  
 

 


 From the P_Valid_Exp Parameter Details section, click New.


Note: The Field Expression window appears.
 In the expression field, enter the following expression:
IIF(ISNULL(Salary) ,1, 0)
OR
Open the file named 32_LabGuide_MappingToHandleNon-FatalErrors_16. Copy the
command mentioned under Step 106 and paste it in the Expression field.
 To validate the expression, click Validate.


Note: The expression is valid message appears.

490  Module 16: Exception Handling

  



  
 

 


 Click OK.


 To validate the mapping, click Validate.


Note: The template and parameters are valid message appears.

Module 16: Exception Handling  491

  



  
 

 


 To save and close the mapping task, click Finish.


 To run the mapping task, click Run.




Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.



492  Module 16: Exception Handling

  



  
 

 


Note: If the status of the task does not change to success automatically, click   to
refresh task status.
 On your local machine, navigate to C:\IICSLabFiles.
 Open Valid_Data.csv and verify that 11 rows are written in the file.


 Verify that 4 rows are written in Invalid_Data.csv.





This concludes the lab.


Module 16: Exception Handling  493

  



  
 

 




494  Module 16: Exception Handling

  



  
 

 

Module 17: Performance Tuning
Lab 17-1: Using Partitions in a Mapping
Overview:
In IICS, partitions divide data into multiple partitions and process those partitions concurrently.

In this lab, you will use partitions in a mapping.

Objective:
? Create multiple partitions to process data concurrently

Duration:
15 minutes



Tasks:
 Create Mapping:

 Access your cloud trial account by clicking Launch in your option Menu. If the option
menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 17: Performance Tuning  495

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



496  Module 17: Performance Tuning

  



  
 

 


 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab, and select Mapping.
 Click Create.


Note: The Mapping page appears.

Module 17: Performance Tuning  497

  



  
 

 


 In the Name field, enter XX_FirstName_Partition.


 To configure the source, from the mapping canvas, click the Source transformation.


 In the General section of the Source properties, retain the Name as Source.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_Oracle.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.
 From the list, select HOTEL_CUSTOMERS.

498  Module 17: Performance Tuning

  



  
 

 


 Click OK.


 From the properties pane, click Partitions.
 From the Partition Key drop-down, select CUSTOMER_ID.

 To add partitions, click .


 Add Partitions, as shown in the table below:

Partition Start Range End Range

#1 1 300

#2 301 600

#3 601

Module 17: Performance Tuning  499

  



  
 

 


Note: For the last partition, you must leave the end value blank for the maximum value.



 To configure the target, from the mapping canvas, click the Target transformation.


 In the General section of Target properties, retain the Name as Target.


 From the properties pane, click Target.
 From the Connection drop-down, select XX_FirstName_LocalCSVFiles.


 Retain Target Type as Single Object.

500  Module 17: Performance Tuning

  



  
 

 


 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.
 On the Target Object window, select Create New at Runtime.
 Enter Tgt_Hotel_Customers.csv as File Name.
 Click OK.


 To save the mapping, click Save.


 To run the mapping, click Run.


Note: The Run mapping window appears.
 From Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in CDI-XX-FIRSTNAME format.

Module 17: Performance Tuning  501

  



  
 

 


 Click Run.






Monitor Status:
 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.



Note: If the status of the task does not change to success automatically, click  to
refresh task status.
 To view job details, click on the Instance Name (XX_FirstName_Partition-1).

502  Module 17: Performance Tuning

  



  
 

 


 Verify the number of success and error rows processed in each partition.





This concludes the lab.


Module 17: Performance Tuning  503

  



  
 

 




504  Module 17: Performance Tuning

  



  
 

 

Module 17: Performance Tuning
Lab 17-2: Using Pushdown Optimization in a Mapping Task
Overview:
In IICS, you can configure pushdown optimization to push the transformation logic to the source
or target database system. Pushdown optimization improves mapping performance.

In this lab, you will create a mapping configuration task with full pushdown optimization enabled.

Objective:
? Create a mapping with same source and target connections

? Create a mapping task with full pushdown optimization enabled

? Use a database query to verify that the target is populated

Duration:
30 minutes



Tasks:
Create Mapping:

 Access your cloud trial account by clicking Launch in your option Menu. If the option menu
is labeled anything other than Launch, click the down arrow to the right and click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 17: Performance Tuning  505

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Data Integration.



506  Module 17: Performance Tuning

  



  
 

 


 From the Navigation pane, select New.


 From the New Asset window, click the Mappings tab, and select Mapping.
 Click Create.


Note: The Mapping page appears.

 In the Name field, enter XX_FirstName_PushDown_Opt.



Module 17: Performance Tuning  507

  



  
 

 


 To configure the source, from the mapping canvas, click the Source transformation.


 In the General section of the Source properties, enter Name as Src_Customers.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_Oracle.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.

 From the list, select ACTCUSTOMERS.

508  Module 17: Performance Tuning

  



  
 

 


 Click OK.




Add Source Transformation:

  Drag and drop Source transformation on to the mapping canvas.


 Select the Source transformation on the mapping canvas.

Module 17: Performance Tuning  509

  



  
 

 


 In the General section of Source properties, enter Name as Src_Orders.


 From the properties pane, click Source.
 From the Connection drop-down, select XX_FirstName_Oracle.


 Retain Source Type as Single Object.
 To select the source object, from the Object field, click Select.


Note: The Select Source Object window appears.

 From the list, select ACTORDERS.
 Click OK.



510  Module 17: Performance Tuning

  



  
 

 


 From the properties pane, click Fields.
 From the Options drop-down, select Edit Metadata.


 Select CUSTOMER_ID field.


 From the Native Type drop-down, select varchar.


 From the Options drop-down, uncheck Edit Metadata.


Note: The Native Type of CUSTOMER_ID is of type string. As you need to specify a join
condition based on CUSTOMER_ID of CUSTOMERS table and ORDERS table, you must
ensure that their data types are same.



Module 17: Performance Tuning  511

  



  
 

 


Add Joiner Transformation:

 Drag and drop the Joiner transformation on the link between Src_Customers and Target.



 To expand the join options, click .


 Link Src_Orders to Detail.



512  Module 17: Performance Tuning

  



  
 

 


Note: Verify that Src_Customers is linked to Master. If it is not linked, link Src_Customers
to Master.

 Select Joiner transformation from the mapping canvas.


 In the General section of Joiner properties, enter Name as JNR_Customer.


 From the properties pane, click Incoming Fields.


Note: You can see a warning message in this field.

 To resolve the conflict, under the Field Rules section for Master, from Field Selection
Criteria drop-down, select Named Fields.

 Click Configure.


Note: The Configure Field Rule window appears.

 To select all the fields, click Field Name.

Module 17: Performance Tuning  513

  



  
 

 


 Select Rename Fields tab.


 From Rename selected fields, click Bulk.
 From the Bulk Rename Options drop-down, select Prefix.


 Enter cust_ in the Specify field.

514  Module 17: Performance Tuning

  



  
 

 


 Click OK.


 From the properties pane, click Join Condition.
 Retain Join Type as Normal and Join Condition as Simple.



 To add a new join condition, click .


 Enter join condition as shown in the table below.

Master  Operator Detail

cust_CUSTOMER_ID =  CUSTOMER_ID




Module 17: Performance Tuning  515

  



  
 

 


Add Sorter Transformation:
 Drag and drop the Sorter transformation on to the mapping canvas.


 To delete the link between JNR_Customer and Target, click on the link.

 Click .


 Link JNR_Customer to Sorter.



516  Module 17: Performance Tuning

  



  
 

 


 Select Sorter transformation from the mapping canvas.


 In the General section of the Sorter properties, enter Name as Srt_Customer.


 From the properties pane, click Incoming Fields.
 In the Field Rules section, from the Field Selection Criteria drop-down, select Named

Fields.
 Click Configure.


Note: The Configure Field Rules window appears.

 From the list, select cust_CUSTOMER_ID, LINE_TOTAL, and UNITS_SOLD.

Module 17: Performance Tuning  517

  



  
 

 


 Click OK.


 From the properties pane, click Sort.

 To add a new sort condition, click .


 From the Field drop-down, select cust_CUSTOMER_ID, retain Sort Order as Ascending.




518  Module 17: Performance Tuning

  



  
 

 


Add Aggregator Transformation:
 Drag and drop Aggregator transformation on to the mapping canvas.
 Link Srt_Customer with Aggregator.


 In the General section of the Aggregator properties, enter Name as Agg_ByCustomer.


 From the properties pane, click Group By.

 To add a new group by condition, click .


 From the Field Name drop-down, select cust_CUSTOMER_ID.


 From the properties pane, click Aggregate.

Module 17: Performance Tuning  519

  



  
 

 


 To add a new aggregate condition, click .


Note: The New Field window appears.

 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Output Field agg_TOTAL_SOLD_USD decimal 10 5

 Click OK.


 To configure the aggregator, click Configure.


Note: The Field Expression window appears.

 In the Expression field, enter the following expression:
SUM(LINE_TOTAL)
OR
Open the file named 34_LabGuide_UsingPushdownOptimization_17-2 provided with
this lab. Copy the command mentioned under Step 73 and paste it in the Expression field.

520  Module 17: Performance Tuning

  



  
 

 


 Click Validate.


 Click OK.



 To add a new aggregate condition, click .


Note: The New Field window appears.



Module 17: Performance Tuning  521

  



  
 

 


 Enter the details as shown in table below:

Field Type Name Type Precision Scale

Output Field agg_TOTAL_UNITS_SOLD_USD decimal 10 5

 Click OK.


 To configure the aggregator, click Configure.


Note: The Field Expression window appears.

 In the Expression field, enter the following expression:
SUM (UNITS_SOLD)
OR
Open the file named 34_LabGuide_UsingPushdownOptimization_17-2 provided with
this lab. Copy the command mentioned under Step 80 and paste it in the Expression field.

522  Module 17: Performance Tuning

  



  
 

 


 Click Validate.


 Click OK.


 Link Agg_ByCustomer with Target.



Module 17: Performance Tuning  523

  



  
 

 


 To configure the target, from the mapping canvas, click the Target transformation.


 In the General section of Target properties, enter Name as Tgt_Cust_Ord.


 From the properties pane, click Incoming Fields.
 In the Field Rules section, from the Field Selection Criteria drop-down, select Named

Fields.
 Click Configure.


Note: The Configure Field Rules window appears.

 From the list, select cust_CUSTOMER_ID, agg_TOTAL_SOLD_USD, and
agg_TOTAL_UNITS_SOLD_USD.

524  Module 17: Performance Tuning

  



  
 

 


 Click OK.



 From the Incoming Fields tab, to add a new Field Rule, click .


 From the Operator drop-down, select Exclude.
 From Field Selection Criteria, select Named Fields.
 Click Configure.


Note: The Configure Field Rules window appears.

 From the list, select LINE_TOTAL and UNITS_SOLD.

Module 17: Performance Tuning  525

  



  
 

 


 Click OK.


 From the properties pane, click Target.
 From the Connection drop-down, select XX_FirstName_Oracle.


 Retain Target Type as Single Object.

 To select the target object, from the Object field, click Select.


Note: The Target Object window appears.

 From the list, select ACTCUSTORDER_SUMMARY.

526  Module 17: Performance Tuning

  



  
 

 


 Click OK.


 Scroll down and select Truncate target checkbox.


 From the properties pane, click Field Mapping.
 From the Automatch drop-down, select Smart Match.


 After Automatch the field mapping looks as shown below:



Module 17: Performance Tuning  527

  



  
 

 


 To save the mapping, click Save.




Create Mapping Task:

 From the Navigation pane, select New.


 In the New Asset window, select Mapping Task, and click Create.



528  Module 17: Performance Tuning

  



  
 

 


 In the Task Name field, enter XX_FirstName_Pushdown.


 From the Runtime Environment drop-down, select your secure agent group.
Note: The Runtime Environment name will be in CDI-XX-FIRSTNAME format.

 To select the Mapping, click Select.


Note: The Select a Mapping window appears.

 From the list, select XX_FirstName_PushDown_Opt.
 Click Select.



Module 17: Performance Tuning  529

  



  
 

 


 Click Next.


 Scroll down to the Advanced Session Properties section and click Add.


 From the Session Property Name drop-down, select Pushdown Optimization.
 From the Session Property Value drop-down, select Full.

530  Module 17: Performance Tuning

  



  
 

 


 Click Finish.


 To run the task, click Run.




Monitor Status:

 To monitor the mapping status, from the Navigation pane, click My Jobs.


 When the task completes, the status changes to Success.


 To view job details, click on the Instance Name XX_FirstName_Pushdown-1.

Module 17: Performance Tuning  531

  



  
 

 


 Click Download Session Log. The file is available on your local machine.


 Open the session log file, scroll down to view the SQL execution summary.





This concludes the lab.

532  Module 17: Performance Tuning

  



  
 

 

Module 18: Automating and Monitoring Tasks
Lab 18-1: Creating a Schedule
Overview:
In IICS, you can run tasks manually, or you can use schedules to run them at a specific time or
interval.

In this lab, you will create a reusable schedule in your IICS org.

Objective:
? Create a schedule

Duration:
5 minutes



Tasks:
Create Schedule:

 Access your cloud trial account by clicking Launch in your option Menu. If the option
menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 18: Automating and Monitoring Tasks  533

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Administrator.



534  Module 18: Automating and Monitoring Tasks

  



  
 

 


 To create a schedule, from the Navigation pane, select Schedules.


 To create a new schedule, click New Schedule.


Note: The New Schedule page appears.

 In the Schedule Name field, enter XX_FirstName_Daily.


 From the Time zone drop-down, select your time zone.

Module 18: Automating and Monitoring Tasks  535

  



  
 

 


 From the Repeats drop-down, select Daily.


 From Run the task section, select Every weekday.


 In the Repeat Options section, select Repeats until, and select the date that is three
days after the current date.
 To save the schedule, click Save.



536  Module 18: Automating and Monitoring Tasks

  



  
 

 


Note: A message ‘Schedule saved successfully’ appears.





This concludes the lab.


Module 18: Automating and Monitoring Tasks  537

  



  
 

 




538  Module 18: Automating and Monitoring Tasks

  



  
 

 

Module 19: Administration
Lab 19-1: Configure Administrative Settings for your Informatica
Cloud Org
Overview:
An Organization is a secure area within the Informatica Intelligent Cloud Services repository that
stores your licenses, user accounts, data integration assets such as mappings and tasks, and
information about jobs and security. Based on your license, you might have access to one
Organization or to a parent Organization and one or more Sub-Organizations.

The administrator of an Organization maintains the Organization and Sub-Organizations.

Objectives:
? Configure Administrative settings for the Org

? Disable and Reset a user

? Assign Services to a user

Scenario:
After creating various connections, Joseph informs Ruby that there are new Developers hired in
the IICS development team. She must add these new users of the IICS Org and assign the
required permissions and roles to these users.

Duration:
15 Minutes



Tasks:
Create a new user:
1. Access your cloud trial account by clicking Launch in your option Menu.  If the option

menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 19: Administration  539

  



  
 

 


2. Enter your login credentials and click Log In.


3. From the My Services window, select Administrator.



540  Module 19: Administration

  



  
 

 


4. From the Navigation pane, select Users.


5. To create a new user, click Add User.


6. In the New User page, enter the mandatory details such as name, job title, phone

number, email, authentication type, and user name.


Note: For this lab, we will create a user with User Name as
instructor@informaticacloud.com.

Module 19: Administration  541

  



  
 

 


7. Assign the Admin role to the user.


Note: You can assign other roles to a user as per your requirement.

8. Click Save.


9. To view the status of added user, from the Navigation pane, select Users.


10. Observe the Account Status of new user is Pending Activation


11. Login to the email account that you specified in the email field for the new user.

542  Module 19: Administration

  



  
 

 


12. Open the email from admin@informaticacloud.com and click Confirm Account.


13. Set the password and other security configuration.
14. Click Login.


15. A message “The service may collect information about the operation, organization, and

use of the service, possibly including your user ID, password, and IP address.” is
displayed on the screen.

Module 19: Administration  543

  



  
 

 


16. Click Continue.


17. Click No.


Note: The My Services window appears.

544  Module 19: Administration

  



  
 

 


18. From the My Services window, select Administrator.


19. From the Navigation pane, select Users.


20.  Observe that status of the new user has changed to Active.


21. Log Out from the newly created user account.



Module 19: Administration  545

  



  
 

 


Disable and Reset a User:
22. Enter the Login credentials used during IICS trail account creation and click Log In.



23. To disable the newly created user, click  and select Disable.

t
Note: A Warning window appears.

24. Click OK.


Note: A message User disabled successfully appears.

546  Module 19: Administration

  



  
 

 


25. To reset the disabled user, click  and select Reset.


Note: After reset, the user status is set to Pending Activation or to Active based on the
authentication method.

Assign Services to a user:

26. To assign service to a user, click  and select Assign Services.


Note: The Assign Services window appears.

27. From the list, select a service you want to assign to the user.
Note: For the purpose of this lab, select all the available services.

28. To save the changes, click Save.







Module 19: Administration  547

  



  
 

 


Create a new User Group:
29. From the Navigation pane, select User Groups.


30. To add a new user group, select Add Group.


31. In the Name field, enter Lab Group.

548  Module 19: Administration

  



  
 

 


32. Assign Admin role to the group.


Note: You can assign multiple roles to a group.

33. To add the instructor@informaticacloud.com user in the Assigned Users section,

select the user and click .
Note: You can add the user you created in step 6.



Module 19: Administration  549

  



  
 

 


34. Click Save.


Change the configuration of a role:
35. From the Navigation pane, select User Roles.


36. To modify the admin user role, click Admin.


37. From the Services drop-down, select the services for which you want to configure the

privileges.
Note: For this lab, select Administrator.



550  Module 19: Administration

  



  
 

 


38. To modify the privileges granted to the specific user role for various assets and features,
select or deselect the checkbox.



Note: For this lab, do not make any changes in the Administrator service.

39. To close the window, click .






Module 19: Administration  551

  



  
 

 


Set up permissions at the asset level:
40. To switch between the available services, from the toolbar, select the drop-down next to

Administrator.


41. From the My Services window, select Data Integration.


42. From the Navigation pane, select Explore.
43. Navigate to Default.



44. To set the permission for an asset, select any asset and click .

552  Module 19: Administration

  



  
 

 


45. Select Permissions.


46. From the permissions window, to add the required user, click Add.



Module 19: Administration  553

  



  
 

 


47. Select the user you created in step 6 and click Add.


48. Assign appropriate permissions to the user and click Save.





This concludes the lab.

554  Module 19: Administration

  



  
 

 

Module 19: Administration
Lab 19-2: Creating a Sub-Organization and Importing/Exporting
assets
Overview:
If your organization has the Organization Hierarchy license, you can create one or more Sub-
Organizations within your organization. Create Sub-Organizations to represent different
business environments within your company. For example, you might create separate Sub-
Organizations to represent your development, testing, and production environments.

Objective:
? Create a Sub-Org for testing environment

? Export an asset from an Org

? Import an asset to the Sub-Org

Scenario:
After creating new users and user groups and assigning them the required permissions, now
Ruby must separate two different environments for development and testing of various assets.
Ruby must also migrate assets from development to testing environment.

Duration:
30 minutes



Tasks:
Create a sub org for testing environment:

 Access your cloud trial account by clicking Launch in your option Menu. If the option
menu is labeled anything other than Launch, click the down arrow to the right and
click Launch.


Note: Follow this step, if you have navigated away from the login page.

Module 19: Administration  555

  



  
 

 


 Enter your login credentials and click Log In.


 From the My Services window, select Administrator.



 In the Organization page, select the Sub-Organizations tab.



556  Module 19: Administration

  



  
 

 


 To create a new Sub-Org, click New Sub-Organization.


 In the Name field, enter Informatica_Cloud_Testing.
 In Environment type field, enter QA.


 Retain the default values in the Authentication section and the Data Integration Service

section.
 To save the configuration, click Save.


 From the Navigation pane, select Organization.
 From the list of Sub-Orgs, select the created Sub-Org.




Module 19: Administration  557

  



  
 

 


 To view the Connectors and Custom Licenses that are available for the sub-org, click
Licenses.


Note: You can also check the Expiration Date for Connectors or Custom Licenses in the
Licenses tab.

 To close the window, click .


Export asset from the Main Org:
 To switch between the available services, from the toolbar, select the drop-down next to
Administrator.



558  Module 19: Administration

  



  
 

 


 From the My Services window, select Data Integration.


 From the Navigation pane, select Explore.
 Navigate to Default.



 Locate XX_FirstName_Emp asset and click .
 Click Export.


Note: The Export Assets window appears.
 Retain the default name of the asset.

Module 19: Administration  559

  



  
 

 


 To export all the required assets and configuration, ensure that “Include all
dependencies for the selected assets” is selected.
 Click Export.


 A pop-up message “Export started” will be displayed. To download the xml file, click the
My Import/Export Logs link in the message.


Note: You can also navigate to the My Import/Export Logs page by selecting the My
Import/Export Logs option from the Navigation pane.


 To view the exported asset list, click the Export tab.

560  Module 19: Administration

  



  
 

 


 After the status displays “Export completed successfully,” hover over the status
message, and click the Download to download the xml file of the asset.


Note: When you export the asset, it is downloaded to your system’s Downloads
directory.



Import it to the other Sub-Org:
 To import the downloaded xml in the testing Org, you must change the current Org to
Sub-Org.
 Click Org name available on the top left corner of the screen.
Note: An info window appears.
 Select Informatica_Cloud_Testing.


 From the Navigation pane, click Explore.
 Go to Default.



Module 19: Administration  561

  



  
 

 


 Click the Import button available below the Sub-Org name on the right side of your
screen.


 Click Choose File.


 Navigate to your system’s Downloads directory, select the asset you exported and click
Open.




562  Module 19: Administration

  



  
 

 


 To import the asset, click Import.


 To view the status of the job, from the Navigation pane, click the My Import/Export
Logs.


 From the Navigation pane, click Explore.
 Go to Default.


 In the Default project, you can view the newly imported asset.





This concludes the lab.

Module 19: Administration  563

  